require('dotenv').config();
const express = require("express");
const bodyParser = require("body-parser");
const ejs = require("ejs");
const mongoose = require("mongoose");
const session = require('express-session');
const {
  v4: uuidv4
} = require('uuid'); // uuid, To call: uuidv4();
const passport = require('passport');
const passportLocalMongoose = require('passport-local-mongoose');
const _ = require("lodash");

const User = require('./models/user');
const Faculty = require('./models/faculty');
//created modules
const homeRouter = require('./controllers/home');
const registerRouter = require('./controllers/register');
const loginRouter = require('./controllers/login');

const dateTime = require('./assets/full-date-time');
const dataForUser = require('./assets/create-lecturers');
//---
const app = express();

app.set('view engine', 'ejs');

app.use(express.static("public"));
app.use(express.static("models"));

app.use("/", homeRouter);
app.use("/register", registerRouter);
app.use("/login", loginRouter);

app.use(bodyParser.urlencoded({
  limit: '150mb',
  extended: true,
  parameterLimit: 1000000
}));

app.use(session({
  genid: function(req) {
    return uuidv4();
  },
  secret: process.env.SECRET,
  resave: false,
  saveUninitialized: false,
  cookie: {
    maxAge: 60 * 360 * 1000,
    secure: false
  } // 6 hour
}));

app.use(passport.initialize());
app.use(passport.session());

mongoose.connect(process.env.DATABASE_URL, {
  useNewUrlParser: true,
  useUnifiedTopology: true
});

passport.use(User.createStrategy());

passport.serializeUser(User.serializeUser());
passport.deserializeUser(User.deserializeUser());

app.post("/register", (req, res) => {

  User.register({
    username: req.body.username,
    activeUser: "aktyvus",
    currentYear: new Date().getFullYear(),
    updated_for: "Registracija",
    //ataskaitų būsenos
    busena22_23: "nesukurta",
    busena23_24: "nesukurta",
    busena24_25: "nesukurta",
    busena25_26: "nesukurta",
    busenaVedejo22_23: "nesukurta",
    busenaVedejo23_24: "nesukurta",
    busenaVedejo24_25: "nesukurta",
    busenaVedejo25_26: "nesukurta",
    //rolės naudotojo
    role: "dėstytojas",
    rolesKeitimas: false,
    //naudotojo atpažinimui
    teachingYear22_23: false,
    teachingYear23_24: false,
    teachingYear24_25: false,
    teachingYear25_26: false,
    headOfTheDepartment22_23: false,
    headOfTheDepartment23_24: false,
    headOfTheDepartment24_25: false,
    headOfTheDepartment25_26: false,
  }, req.body.password, function(err, user) {
    if (err) {
      console.log(err);
      res.redirect("/register");
    } else {
      passport.authenticate("local")(req, res, function() {
        res.redirect("/user-window-selection");
      });
    }
  });
});

app.post("/login", (req, res) => {
  //2 rolem negalima prisijungti vienu metu

  //   if (req.isAuthenticated()) {
  // console.log("autentifikavo");
  //     User.findById(req.user.id, function(err, foundUser) {
  //       if (err) {
  //         console.log(err);
  //       } else {
  //         if (foundUser.role === "dėstytojas") {
  //           res.redirect("/user-window");
  //         } else if (foundUser.role === "katedros vedėjas") {
  //           res.redirect("/user-window-dep");
  //         } else if (foundUser.role === "administratorius") {
  //           res.redirect("/admin/profile");
  //         }
  //       }
  //     });
  //
  // } else {
  //use a Model (User) to create new documents (user) using `new`:
  const user = new User({
    username: req.body.username,
    password: req.body.password
  });

  req.login(user, function(err) {
    if (err) {
      console.log(err);
    } else {
      passport.authenticate("local", {
        failureRedirect: '/login'
      })(req, res, function() {
        User.findById(req.user.id, function(err, foundUser) {

          if (err) {
            console.log(err);
          } else {
            var a = req.user.username;
            foundUser.updated_for = "Prisijungimas" + " " + a;
            foundUser.save(function(err) {
              if (err) {
                console.log(err);
              }
            });
            if (foundUser.role === "dėstytojas") {
              res.redirect("/user-window-selection");
            } else if (foundUser.role === "katedros vedėjas") {
              res.redirect("/user-window-selection");
            } else if (foundUser.role === "administratorius") {
              res.redirect("/admin/profile");
            }
          }
        });
      });
    }
  });
  //}
});

// METHOD FOR LOG
app.get("/admin/history-log", (req, res) => {

  //var HistoryUser = User.historyModel();
  var MongoClient = require('mongodb').MongoClient;
  var url = "mongodb://localhost:27017/";

  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {

          MongoClient.connect(url, function(err, db) {
            if (err) throw err;

            var dbo = db.db("reportsDB_v2");
            dbo.collection("__historiesPlugin")
              .find({}).toArray(function(err, _historiesPlugin) {
                if (err) throw err;
                //console.log(_historiesPlugin.collectionId);
                //console.log(_historiesPlugin);
                res.render("admin-history-log", {
                  users_history: _historiesPlugin
                });
                db.close();
              });
          });

        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

//---------------------LECTURER-------------------
app.get("/2022-2023/create", function(req, res) {

  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear22_23 == true) {
          res.render("create-2022-2023", {
            user: foundUser
          });
        } else {
          res.render("user-window-2022-2023", {
            user: foundUser
          });
        }
      }
      catch (err){
        console.log(err);
      }
    });

  } else {
    res.redirect("/login");
  }
});
app.get("/2023-2024/create", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear23_24 == true) {
          res.render("create-2023-2024", {
            user: foundUser
          });
        } else {
          res.render("user-window-2023-2024", {
            user: foundUser
          });
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2024-2025/create", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear24_25 == true) {
          res.render("create-2024-2025", {
            user: foundUser
          });
        } else {
          res.render("user-window-2024-2025", {
            user: foundUser
          });
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2025-2026/create", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear25_26 == true) {
          res.render("create-2025-2026", {
            user: foundUser
          });
        } else {
          res.render("user-window-2025-2026", {
            user: foundUser
          });
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/create-2022-2023", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser) {

          dataForUser.dataUser(foundUser, req);

          foundUser.save(function(err) {
            if (!err) {
              console.log("Succesfully created 2022-2023");
              res.redirect("/2022-2023/user-window");
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
}); //create 2022-2023
app.post("/create-2023-2024", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log("Error...");
        console.log(err);
      } else {
        if (foundUser) {
          // 1 lentelė create-2022-2023
          foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M02.push({
              nr: i, // pakeisti i si kintamaji
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
          // 4 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize create-2022-2023
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė create-2022-2023
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
            foundUser.updated_for = req.user.username,
            foundUser.busena23_24 = req.body.ataskaitos_busena,
            foundUser.mm2023_2024.destytojas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

          foundUser.save(function(err) {
            if (!err) {
              console.log("Succesfully created 2023-2024");
              res.redirect("/2023-2024/user-window");
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
}); //create 20223-2024
app.post("/create-2024-2025", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log("Error...");
        console.log(err);
      } else {
        if (foundUser) {
          // 1 lentelė create-2022-2023
          foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M02.push({
              nr: i, // pakeisti i si kintamaji
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          } // 4 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize create-2022-2023
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė create-2022-2023
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          } // 32 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė create-2022-2023
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
            foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
            foundUser.updated_for = req.user.username,
            foundUser.busena24_25 = req.body.ataskaitos_busena,
            foundUser.mm2024_2025.destytojas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

          foundUser.save(function(err) {
            if (!err) {
              console.log("Succesfully created 2024-2025");
              res.redirect("/2024-2025/user-window");
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
}); //create 2024-2025
app.post("/create-2025-2026", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log("Error...");
        console.log(err);
      } else {
        if (foundUser) {
          // 1 lentelė create-2025-2026
          foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M02.push({
              nr: i, // pakeisti i si kintamaji
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          } // 4 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize create-2025-2026
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė create-2025-2026
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė create-2025-2026
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
            foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
            foundUser.updated_for = req.user.username,
            foundUser.busena25_26 = req.body.ataskaitos_busena,
            foundUser.mm2025_2026.destytojas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

          foundUser.save(function(err) {
            if (!err) {
              console.log("Succesfully created 2025-2026");
              res.redirect("/2025-2026/user-window");
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
}); //create 2025-2026

app.get("/2022-2023/edit", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear22_23 == true) {
          res.render("edit-2022-2023", {
            user: foundUser
          });
        } else {
          res.redirect("/login");
          console.log("User role unknown");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2023-2024/edit", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear23_24 == true) {
          res.render("edit-2023-2024", {
            user: foundUser
          });
        } else {
          res.redirect("/login");
          console.log(foundUser.role);
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2024-2025/edit", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear24_25 == true) {
          res.render("edit-2024-2025", {
            user: foundUser
          });
        } else {
          res.redirect("/login");
          console.log(foundUser.role);
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2025-2026/edit", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" && foundUser.teachingYear25_26 == true) {
          res.render("edit-2025-2026", {
            user: foundUser
          });
        } else {
          res.redirect("/login");
          console.log(foundUser.role);
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/update-2022-2023", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);

    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M04 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2022_2023.destytojas.kTOV4_25 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_26 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_29 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_S = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT01 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2022_2023.destytojas.kV5_33 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_34 = new Array();

        // 1 lentelė create-2022-2023
        foundUser.mm2022_2023.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2022_2023.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2022_2023.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2022_2023.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2022_2023.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize create-2022-2023
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2022_2023.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė create-2022-2023
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė create-2022-2023
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.updated_for = req.user.username,
          foundUser.busena22_23 = req.body.ataskaitos_busena,
          foundUser.mm2022_2023.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated");
            res.redirect("/2022-2023/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //update 2022-2023
app.post("/update-2023-2024", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);

    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M04 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2023_2024.destytojas.kTOV4_25 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_26 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_29 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_S = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT01 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2023_2024.destytojas.kV5_33 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_34 = new Array();

        // 1 lentelė update-2023-2024
        foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize update-2023-2024
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė update-2023-2024
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.updated_for = req.user.username,
          foundUser.busena23_24 = req.body.ataskaitos_busena,
          foundUser.mm2023_2024.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated");
            res.redirect("/2023-2024/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //update 2023-2024
app.post("/update-2024-2025", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);

    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M04 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2024_2025.destytojas.kTOV4_25 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_26 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_29 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_S = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT01 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2024_2025.destytojas.kV5_33 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_34 = new Array();

        // 1 lentelė update-2024-2025
        foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize update-2024-2025
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė update-2024-2025
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.updated_for = req.user.username,
          foundUser.busena24_25 = req.body.ataskaitos_busena,
          foundUser.mm2024_2025.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated");
            res.redirect("/2024-2025/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //update 2024-2025
app.post("/update-2025-2026", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);

    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M04 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2025_2026.destytojas.kTOV4_25 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_26 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_29 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_S = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT01 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2025_2026.destytojas.kV5_33 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_34 = new Array();

        // 1 lentelė update-2025-2026
        foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize update-2025-2026
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė update-2025-2026
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.updated_for = req.user.username,
          foundUser.busena25_26 = req.body.ataskaitos_busena,
          foundUser.mm2025_2026.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated");
            res.redirect("/2025-2026/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //update 2025-2026

app.get("/2022-2023/submit", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("submit-2022-2023", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra),
              vardasUpper: _.toUpper(foundUser.vardas),
              pavardeUpper: _.toUpper(foundUser.pavarde)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2023-2024/submit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("submit-2023-2024", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra),
              vardasUpper: _.toUpper(foundUser.vardas),
              pavardeUpper: _.toUpper(foundUser.pavarde)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2024-2025/submit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("submit-2024-2025", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra),
              vardasUpper: _.toUpper(foundUser.vardas),
              pavardeUpper: _.toUpper(foundUser.pavarde)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2025-2026/submit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("submit-2025-2026", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra),
              vardasUpper: _.toUpper(foundUser.vardas),
              pavardeUpper: _.toUpper(foundUser.pavarde)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/submit-2022-2023", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas submit
        foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M04 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // SUBMIT post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2022_2023.destytojas.kTOV4_25 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_26 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_29 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_S = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT01 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2022_2023.destytojas.kV5_33 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_34 = new Array();
        // 1 lentelė update-2022-2023
        foundUser.mm2022_2023.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2022_2023.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2022_2023.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2022_2023.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
            eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
            foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
        }
        foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2022_2023.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
            eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
        } // 4 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
            eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          }
        } // 5 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
            eval("req.body.nD2_D01rezultatai" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          }
        } // 6 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
            eval("req.body.nD2_D02rezultatai" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          }
        } // 7 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
            eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          }
        } // 8 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
            eval("req.body.nD2_M03apimtisKredit" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          }
        } // 9 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2022_2023.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

        // 10 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 11 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 12 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 13 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
            eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 14.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
            eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 14.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          }
        } // 14.3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          }
        } // 15 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 16 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
            eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 17 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
            eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 18 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
            eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 19 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 20 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 21 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 22 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
            eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // 23 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

        // 24 lentelė submit
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
            eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          }
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
            eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          }
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
            eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          }
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
            eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
        }
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_25skirta" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          }
        } // 26 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          }
        } // 27 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
            eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 28.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 28.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // 29 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          }
        } // savianalize lentelė submit
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 30 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
            eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 31 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
            eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        }
        // 32 table submit
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          if (eval("req.body.kV5_32socaprasymas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          if (eval("req.body.kV5_32savaprasymas" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          }
        } // 33 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
            eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
            eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
            eval("req.body.kV5_33vieta" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          }
        } // 34 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
            eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
            eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
            foundUser.mm2022_2023.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
        }
        foundUser.mm2022_2023.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.mm2022_2023.destytojas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.updated_for = req.user.username,
          foundUser.busena22_23 = req.body.ataskaitos_busena,
          foundUser.mm2022_2023.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/2022-2023/submit");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //submit 2022-2023
app.post("/submit-2023-2024", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas submit
        foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M04 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // SUBMIT post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2023_2024.destytojas.kTOV4_25 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_26 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_29 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_S = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT01 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2023_2024.destytojas.kV5_33 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_34 = new Array();
        // 1 lentelė update-2023-2024
        foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
            eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
            foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
        }
        foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
            eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
        } // 4 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
            eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          }
        } // 5 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
            eval("req.body.nD2_D01rezultatai" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          }
        } // 6 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
            eval("req.body.nD2_D02rezultatai" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          }
        } // 7 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
            eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          }
        } // 8 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
            eval("req.body.nD2_M03apimtisKredit" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          }
        } // 9 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

        // 10 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 11 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 12 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 13 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
            eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 14.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
            eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 14.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          }
        } // 14.3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          }
        } // 15 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 16 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
            eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 17 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
            eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 18 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
            eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 19 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 20 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 21 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 22 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
            eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // 23 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

        // 24 lentelė submit
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
            eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          }
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
            eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          }
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
            eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          }
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
            eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
        }
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_25skirta" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          }
        } // 26 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          }
        } // 27 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
            eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 28.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 28.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // 29 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          }
        } // savianalize lentelė submit
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 30 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
            eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 31 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
            eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        }
        // 32 table submit
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          if (eval("req.body.kV5_32socaprasymas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          if (eval("req.body.kV5_32savaprasymas" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          }
        } // 33 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
            eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
            eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
            eval("req.body.kV5_33vieta" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          }
        } // 34 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
            eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
            eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
            foundUser.mm2023_2024.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
        }
        foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.mm2023_2024.destytojas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.updated_for = req.user.username,
          foundUser.busena23_24 = req.body.ataskaitos_busena,
          foundUser.mm2023_2024.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/2023-2024/submit");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //submit 2023-2024
app.post("/submit-2024-2025", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas submit
        foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M04 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // SUBMIT post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2024_2025.destytojas.kTOV4_25 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_26 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_29 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_S = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT01 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2024_2025.destytojas.kV5_33 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_34 = new Array();
        // 1 lentelė update-2024-2025
        foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
            eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
            foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
        }
        foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
            eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
        } // 4 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
            eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          }
        } // 5 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
            eval("req.body.nD2_D01rezultatai" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          }
        } // 6 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
            eval("req.body.nD2_D02rezultatai" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          }
        } // 7 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
            eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          }
        } // 8 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
            eval("req.body.nD2_M03apimtisKredit" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          }
        } // 9 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

        // 10 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 11 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 12 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 13 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
            eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 14.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
            eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 14.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          }
        } // 14.3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          }
        } // 15 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 16 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
            eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 17 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
            eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 18 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
            eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 19 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 20 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 21 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 22 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
            eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // 23 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

        // 24 lentelė submit
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
            eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          }
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
            eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          }
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
            eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          }
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
            eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
        }
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_25skirta" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          }
        } // 26 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          }
        } // 27 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
            eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 28.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 28.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // 29 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          }
        } // savianalize lentelė submit
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 30 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
            eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 31 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
            eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        }
        // 32 table submit
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          if (eval("req.body.kV5_32socaprasymas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          if (eval("req.body.kV5_32savaprasymas" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          }
        } // 33 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
            eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
            eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
            eval("req.body.kV5_33vieta" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          }
        } // 34 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
            eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
            eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
            foundUser.mm2024_2025.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
        }
        foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.mm2024_2025.destytojas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.updated_for = req.user.username,
          foundUser.busena24_25 = req.body.ataskaitos_busena,
          foundUser.mm2024_2025.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/2024-2025/submit");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //submit 2024-2025
app.post("/submit-2025-2026", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas submit
        foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M04 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // SUBMIT post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2025_2026.destytojas.kTOV4_25 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_26 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_29 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_S = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT01 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2025_2026.destytojas.kV5_33 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_34 = new Array();
        // 1 lentelė update-2025-2026
        foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
            eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
            foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
        }
        foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
            eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
        } // 4 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
            eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          }
        } // 5 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
            eval("req.body.nD2_D01rezultatai" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          }
        } // 6 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
            eval("req.body.nD2_D02rezultatai" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          }
        } // 7 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
            eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          }
        } // 8 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
            eval("req.body.nD2_M03apimtisKredit" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          }
        } // 9 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

        // 10 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 11 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 12 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 13 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
            eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 14.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
            eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 14.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          }
        } // 14.3 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          }
        } // 15 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 16 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
            eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 17 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
            eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 18 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
            eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 19 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 20 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
            eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
            eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 21 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 22 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
            eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // 23 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // savianalize submit
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        }
        foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

        // 24 lentelė submit
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
            eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          }
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
            eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          }
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
            eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          }
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
            eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
        }
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_25skirta" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          }
        } // 26 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
            eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          }
        } // 27 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
            eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 28.1 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 28.2 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // 29 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          }
        } // savianalize lentelė submit
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 30 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
            eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 31 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
            eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        }
        // 32 table submit
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          if (eval("req.body.kV5_32socaprasymas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          if (eval("req.body.kV5_32savaprasymas" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          }
        } // 33 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
            eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
            eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
            eval("req.body.kV5_33vieta" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          }
        } // 34 lentelė submit
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
            eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
            eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
            foundUser.mm2025_2026.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
        }
        foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,
          foundUser.mm2025_2026.destytojas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.updated_for = req.user.username,
          foundUser.busena25_26 = req.body.ataskaitos_busena,
          foundUser.mm2025_2026.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/2025-2026/submit");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
}); //submit 2025-2026

//---------------------DEPARTMENT-------------------
app.get("/department/2022-2023/create", function(req, res) {
  //turi isvesti visu destytoju info
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, logedInUser) {
      if (err) {
        console.log(err);
      } else if (logedInUser.role === "katedros vedėjas" && logedInUser.headOfTheDepartment22_23 === true) {
        let vedejoKatedra = req.user.katedra;
        User.find({
          katedra: vedejoKatedra,
          $or: [{
            busena22_23: "užrakinta"
          }, {
            busena22_23: "užrakintaVedėjo"
          }]
        }, function(err, users) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-create-2022-2023", {
              users: users, //destytojai
              logedInUser: logedInUser //prisijunges katedros vedejas
            });
          }
        });
      } else {
        res.render("user-window-2022-2023", {
          user: logedInUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/create", function(req, res) {
  //turi isvesti visu destytoju info
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, logedInUser) {
      if (err) {
        console.log(err);
      } else if (logedInUser.role === "katedros vedėjas" && logedInUser.headOfTheDepartment23_24 === true) {
        let vedejoKatedra = req.user.katedra;
        User.find({
          katedra: vedejoKatedra,
          $or: [{
            busena23_24: "užrakinta"
          }, {
            busena23_24: "užrakintaVedėjo"
          }]
        }, function(err, users) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-create-2023-2024", {
              users: users,
              logedInUser: logedInUser
            });
          }
        });
      } else {
        res.render("user-window-2023-2024", {
          user: logedInUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/create", function(req, res) {
  //turi isvesti visu destytoju info
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, logedInUser) {
      if (err) {
        console.log(err);
      } else if (logedInUser.role === "katedros vedėjas" && logedInUser.headOfTheDepartment24_25 === true) {
        let vedejoKatedra = req.user.katedra;
        User.find({
          katedra: vedejoKatedra,
          $or: [{
            busena24_25: "užrakinta"
          }, {
            busena24_25: "užrakintaVedėjo"
          }]
        }, function(err, users) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-create-2024-2025", {
              users: users,
              logedInUser: logedInUser
            });
          }
        });
      } else {
        res.render("dep-create-2023-2024", {
          users: users,
          logedInUser: logedInUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/create", function(req, res) {
  //turi isvesti visu destytoju info
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, logedInUser) {
      if (err) {
        console.log(err);
      } else if (logedInUser.role === "katedros vedėjas" && logedInUser.headOfTheDepartment25_26 === true) {
        let vedejoKatedra = req.user.katedra;
        User.find({
          katedra: vedejoKatedra,
          $or: [{
            busena25_26: "užrakinta"
          }, {
            busena25_26: "užrakintaVedėjo"
          }]
        }, function(err, users) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-create-2025-2026", {
              users: users,
              logedInUser: logedInUser
            });
          }
        });
      } else {
        res.render("user-window-2023-2024", {
          user: logedInUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/dep-create-2022-2023", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log("Error...");
      console.log(err);

    } else {
      if (foundUser) {
        // 1 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 create-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 create-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 create-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė create-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė create-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė create-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė create-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo22_23 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2022_2023.katedrosVedejas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully created 2022-2023");
            res.redirect("/2022-2023/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-create-2023-2024", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        // 1 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 create-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 create-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 create-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė create-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė create-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė create-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė create-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo23_24 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2023_2024.katedrosVedejas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully created 2023-2024");
            res.redirect("/2023-2024/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-create-2024-2025", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        // 1 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 create-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 create-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 create-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė create-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė create-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė create-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė create-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo24_25 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2024_2025.katedrosVedejas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully created 2024-2025");
            res.redirect("/2024-2025/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-create-2025-2026", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        // 1 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 create-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 create-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 create-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė create-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė create-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė create-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė create-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė create-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė create-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė create-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo25_26 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2025_2026.katedrosVedejas.ivykiuDatos.sukurimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully created 2025-2026");
            res.redirect("/2025-2026/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});

app.get("/department/2022-2023/edit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        res.render("dep-edit-2022-2023", {
          user: foundUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/edit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        res.render("dep-edit-2023-2024", {
          user: foundUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/edit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        res.render("dep-edit-2024-2025", {
          user: foundUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/edit", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        res.render("dep-edit-2025-2026", {
          user: foundUser
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/dep-update-2022-2023", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2022_2023.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo22_23 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2022_2023.katedrosVedejas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated 2022-2023");
            res.redirect("/2022-2023/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-update-2023-2024", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2023_2024.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo23_24 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2023_2024.katedrosVedejas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated 2023-2024");
            res.redirect("/2023-2024/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-update-2024-2025", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2024_2025.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo24_25 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2024_2025.katedrosVedejas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated 2024-2025");
            res.redirect("/2024-2025/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-update-2025-2026", (req, res) => {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2025_2026.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,

          foundUser.busenaVedejo25_26 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2025_2026.katedrosVedejas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully updated 2025-2026");
            res.redirect("/2025-2026/user-window");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});

app.get("/department/2022-2023/submit", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-submit-2022-2023", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/submit", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-submit-2023-2024", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/submit", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-submit-2024-2025", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/submit", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let currentUserFaculty = foundUser.fakultetas;
      if (err) {
        console.log(err);
      } else {
        Faculty.findOne({
          username: currentUserFaculty
        }, function(err, foundFaculty) {
          if (err) {
            console.log(err);
          } else {
            res.render("dep-submit-2025-2026", {
              foundFaculty: foundFaculty,
              user: foundUser,
              fakultetasUpper: _.toUpper(foundUser.fakultetas),
              katedraUpper: _.toUpper(foundUser.katedra)
            });
          }
        });
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.post("/dep-submit-2022-2023", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2022_2023.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          if (eval("req.body.mV2_D04studKryptis" + i) != "" || eval("req.body.mV2_D04studProgr" + i) != "" ||
            eval("req.body.mV2_D04progrKodas" + i) != "" || eval("req.body.mV2_D04isakNrData" + i) != "" ||
            eval("req.body.mV2_D04studKryptAkredit" + i) != "" || eval("req.body.mV2_D04akreditLaikot" + i) != "" ||
            eval("req.body.mV2_D04eCTS" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kKPP1_1.push({
              nr: i,
              studKryptis: eval("req.body.mV2_D04studKryptis" + i),
              studProgr: eval("req.body.mV2_D04studProgr" + i),
              progrKodas: eval("req.body.mV2_D04progrKodas" + i),
              isakNrData: eval("req.body.mV2_D04isakNrData" + i),
              studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
              akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
              eCTS: eval("req.body.mV2_D04eCTS" + i)
            })
          }
        } // 2 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.lent2_pavVard" + i) != "" || eval("req.body.lent2_pareigos" + i) != "" || eval("req.body.lent2_darbovTipas" + i) != "" ||
            eval("req.body.lent2_pedagogStazas" + i) != "" || eval("req.body.lent2_praktinStazas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kDS1.push({
              nr: i,
              vardPavard: eval("req.body.lent2_pavVard" + i),
              pareigos: eval("req.body.lent2_pareigos" + i),
              darbovTipas: eval("req.body.lent2_darbovTipas" + i),
              pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
              praktinStazas: eval("req.body.lent2_praktinStazas" + i)
            })
          }
        } // 3 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.lent3_studKryptis" + i) != "" || eval("req.body.lent3_studProgr" + i) != "" ||
            eval("req.body.lent3_destytojas" + i) != "" || eval("req.body.lent3_imonIstaig" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kKPP1_3.push({
              nr: i,
              studKryptis: eval("req.body.lent3_studKryptis" + i),
              studProgr: eval("req.body.lent3_studProgr" + i),
              destytojas: eval("req.body.lent3_destytojas" + i),
              imonIstaig: eval("req.body.lent3_imonIstaig" + i)
            })
          }
        } // 4 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.lent4_bibliografApr" + i) != "" || eval("req.body.lent4_tipas" + i) != "" ||
            eval("req.body.lent4_mokslSrit" + i) != "" || eval("req.body.lent4_mokslKrypt" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.lent4_bibliografApr" + i),
              tipas: eval("req.body.lent4_tipas" + i),
              mokslSrit: eval("req.body.lent4_mokslSrit" + i),
              mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
            })
          }
        } // 5 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.mV2_M04destytojas" + i) != "" || eval("req.body.mV2_M04studProgr" + i) != "" ||
            eval("req.body.mV2_M04dalykPavad" + i) != "" || eval("req.body.mV2_M04apimtisKredit" + i) != "" || eval("req.body.mV2_M04busena" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04.push({
              nr: i,
              destytojas: eval("req.body.mV2_M04destytojas" + i),
              studProgr: eval("req.body.mV2_M04studProgr" + i),
              dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
              busena: eval("req.body.mV2_M04busena" + i)
            })
          }
        } // 6 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.mV2_D06studProgr" + i) != "" || eval("req.body.mV2_D06progrKodas" + i) != "" ||
            eval("req.body.mV2_D06atlPatobulin" + i) != "" || eval("req.body.mV2_D06tobulinPriezast" + i) != "" ||
            eval("req.body.mV2_D06tobulinIrod" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06.push({
              nr: i,
              studProgr: eval("req.body.mV2_D06studProgr" + i),
              progrKodas: eval("req.body.mV2_D06progrKodas" + i),
              atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
              tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
              tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
            })
          }
        } // 7 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.mV2_D01destytojas" + i) != "" || eval("req.body.mV2_D01komitetas" + i) != "" ||
            eval("req.body.mV2_D01veikla" + i) != "" || eval("req.body.mV2_D01rezultatai" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01.push({
              nr: i,
              destytojas: eval("req.body.mV2_D01destytojas" + i),
              komitetas: eval("req.body.mV2_D01komitetas" + i),
              veikla: eval("req.body.mV2_D01veikla" + i),
              rezultatai: eval("req.body.mV2_D01rezultatai" + i)
            })
          }
        } // 8 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.mV2_D02destytojas" + i) != "" || eval("req.body.mV2_D02studKrypt" + i) != "" ||
            eval("req.body.mV2_D02veikla" + i) != "" || eval("req.body.mV2_D02rezultatai" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02.push({
              nr: i,
              destytojas: eval("req.body.mV2_D02destytojas" + i),
              studKryptis: eval("req.body.mV2_D02studKrypt" + i),
              veikla: eval("req.body.mV2_D02veikla" + i),
              rezultatai: eval("req.body.mV2_D02rezultatai" + i)
            })
          }
        } // 9 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.mV2_D03destytojas" + i) != "" || eval("req.body.mV2_D03studKryptis" + i) != "" ||
            eval("req.body.mV2_D03studProgr" + i) != "" || eval("req.body.mV2_D03veikla" + i) != "" || eval("req.body.mV2_D03rezultatai" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03.push({
              nr: i,
              destytojas: eval("req.body.mV2_D03destytojas" + i),
              studKryptis: eval("req.body.mV2_D03studKryptis" + i),
              studProgr: eval("req.body.mV2_D03studProgr" + i),
              veikla: eval("req.body.mV2_D03veikla" + i),
              rezultatai: eval("req.body.mV2_D03rezultatai" + i)
            })
          }
        } // 10 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.mV2_M03destytojas" + i) != "" || eval("req.body.mV2_M03studProgr" + i) != "" ||
            eval("req.body.mV2_M03dalykPavad" + i) != "" || eval("req.body.mV2_M03apimtisKredit" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03.push({
              nr: i,
              destytojas: eval("req.body.mV2_M03destytojas" + i),
              studProgr: eval("req.body.mV2_M03studProgr" + i),
              dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)
            })
          }
        } // 11 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.mV2_S01destytojas" + i) != "" || eval("req.body.mV2_S01veikla" + i) != "" ||
            eval("req.body.mV2_S01dataVieta" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01.push({
              nr: i,
              destytojas: eval("req.body.mV2_S01destytojas" + i),
              veikla: eval("req.body.mV2_S01veikla" + i),
              dataVieta: eval("req.body.mV2_S01dataVieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          if (eval("req.body.mV2_Sstiprybes" + i) != "" || eval("req.body.mV2_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S.push({
              nr: i,
              stiprybes: eval("req.body.mV2_Sstiprybes" + i),
              tobulintina: eval("req.body.mV2_Stobulintina" + i)
            })
          }
        } // 12 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T01tyrTemat" + i) != "" || eval("req.body.tMTEP3_T01destytojas" + i) != "" ||
            eval("req.body.tMTEP3_T01tyrGrup" + i) != "" || eval("req.body.tMTEP3_T01mokslSrit" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
              destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
              tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 13 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 14 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 15 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T04konsultantas" + i) != "" || eval("req.body.tMTEP3_T04uzsakovas" + i) != "" ||
            eval("req.body.tMTEP3_T04tema" + i) != "" || eval("req.body.tMTEP3_T04data" + i) != "" ||
            eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
              nr: i,
              konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 16 lentelė 1 submit-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          if (eval("req.body.tMTEP3_T05destytojas" + i) != "" || eval("req.body.tMTEP3_T05veiklPavad" + i) != "" ||
            eval("req.body.tMTEP3_T05veiklRezult" + i) != "" || eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 16 lentelė 2 submit-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          if (eval("req.body.lent162_destytojas" + i) != "" || eval("req.body.lent162_pavadinimas" + i) != "" ||
            eval("req.body.lent162_pastabos" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162.push({
              nr: i,
              destytojas: eval("req.body.lent162_destytojas" + i),
              pavadinimas: eval("req.body.lent162_pavadinimas" + i),
              pastabos: eval("req.body.lent162_pastabos" + i)
            })
          }
        } // 16 lentelė 3 submit-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          if (eval("req.body.tMTEP3_T16autorius" + i) != "" || eval("req.body.tMTEP3_T16pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T16uzsakovas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
              nr: i,
              rengejai: eval("req.body.tMTEP3_T16autorius" + i),
              pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
            })
          }
        } // 17 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 18 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T07atlikejas" + i) != "" || eval("req.body.tMTEP3_T07menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T07pavadinimas" + i) != "" || eval("req.body.tMTEP3_T07atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T07data" + i) != "" || eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 19 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T08atlikejas" + i) != "" || eval("req.body.tMTEP3_T08menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T08pavadinimas" + i) != "" || eval("req.body.tMTEP3_T08atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T08data" + i) != "" || eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 20 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T09atlikejas" + i) != "" || eval("req.body.tMTEP3_T09menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T09pavadinimas" + i) != "" || eval("req.body.tMTEP3_T09atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T09data" + i) != "" || eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 21 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T10destytojas" + i) != "" || eval("req.body.tMTEP3_T10veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T10dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T10dalyvSk" + i) != "" || eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 22 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T11destytojas" + i) != "" || eval("req.body.tMTEP3_T11veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T11dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T11dalyvSk" + i) != "" || eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 23 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T12destytojas" + i) != "" || eval("req.body.tMTEP3_T12veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 24 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          if (eval("req.body.tMTEP3_T14destytojas" + i) != "" || eval("req.body.tMTEP3_T14renginys" + i) != "" ||
            eval("req.body.tMTEP3_T14veiklPobud" + i) != "" || eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // 25 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.tMTEP3_T13destytojas" + i) != "" || eval("req.body.tMTEP3_T13studDuom" + i) != "" ||
            eval("req.body.tMTEP3_T13renginioPavad" + i) != "" || eval("req.body.tMTEP3_T13rezultatas" + i) != "" ||
            eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        } // 26 lentelė submit-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          if (eval("req.body.kTOV4_KV01mokymosiKomppavad" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          if (eval("req.body.kTOV4_KV01tyrimuKomppavad" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          if (eval("req.body.kTOV4_KV01bendrKomppavad" + i) != "" || eval("req.body.kTOV4_KV01bendrKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKompdalyvis" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          if (eval("req.body.kTOV4_KV01dalykKomppavad" + i) != "" || eval("req.body.kTOV4_KV01dalykKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompdalyvis" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4
        // bendros val.
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lentelė
          //mokymosi
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal

        // 27 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.lent27_renginysTema" + i) != "" || eval("req.body.lent27_kompGrupe" + i) != "" ||
            eval("req.body.lent27_skirta" + i) != "" || eval("req.body.lent27_lektorius" + i) != "" ||
            eval("req.body.lent27_lektTipas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27.push({
              nr: i,
              renginysTema: eval("req.body.lent27_renginysTema" + i),
              kompGrupe: eval("req.body.lent27_kompGrupe" + i),
              skirta: eval("req.body.lent27_skirta" + i),
              lektorius: eval("req.body.lent27_lektorius" + i),
              lektTipas: eval("req.body.lent27_lektTipas" + i)
            })
          }
        } // 28 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          if (eval("req.body.lent28_destytojas" + i) != "" || eval("req.body.lent28_imonIstaig" + i) != "" ||
            eval("req.body.lent28_kompGrupe" + i) != "" || eval("req.body.lent28_trukmeVal" + i) != "" ||
            eval("req.body.lent28_data" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28.push({
              nr: i,
              destytojas: eval("req.body.lent28_destytojas" + i),
              imonIstaig: eval("req.body.lent28_imonIstaig" + i),
              kompGrupe: eval("req.body.lent28_kompGrupe" + i),
              trukmeVal: eval("req.body.lent28_trukmeVal" + i),
              data: eval("req.body.lent28_data" + i)
            })
          }
        } // 29 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_KV03destytojas" + i) != "" || eval("req.body.kTOV4_KV03studKryptis" + i) != "" ||
            eval("req.body.kTOV4_KV03salis" + i) != "" || eval("req.body.kTOV4_KV03institucija" + i) != "" ||
            eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 30 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.lent30_destytojas" + i) != "" || eval("req.body.lent30_studKryptis" + i) != "" ||
            eval("req.body.lent30_salis" + i) != "" || eval("req.body.lent30_institucija" + i) != "" ||
            eval("req.body.lent30_dalykas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30.push({
              nr: i,
              destytojas: eval("req.body.lent30_destytojas" + i),
              studKryptis: eval("req.body.lent30_studKryptis" + i),
              salis: eval("req.body.lent30_salis" + i),
              institucija: eval("req.body.lent30_institucija" + i),
              dalykas: eval("req.body.lent30_dalykas" + i)
            })
          }
        } // 31 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          if (eval("req.body.kTOV4_O01_1destytojas" + i) != "" || eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 31 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 32 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          if (eval("req.body.lent32_studKryptis" + i) != "" || eval("req.body.lent32_studProgr" + i) != "" ||
            eval("req.body.lent32_strategPartner" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32.push({
              nr: i,
              studKryptis: eval("req.body.lent32_studKryptis" + i),
              studProgr: eval("req.body.lent32_studProgr" + i),
              strategPartner: eval("req.body.lent32_strategPartner" + i)
            })
          }
        } // 33 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.lent33_veikla" + i) != "" || eval("req.body.lent33_socPartneris" + i) != "" ||
            eval("req.body.lent33_destytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33.push({
              nr: i,
              veikla: eval("req.body.lent33_veikla" + i),
              socPartneris: eval("req.body.lent33_socPartneris" + i),
              destytojas: eval("req.body.lent33_destytojas" + i)
            })
          }
        } // 34 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.lent34_studKryptis" + i) != "" || eval("req.body.lent34_studProgr" + i) != "" ||
            eval("req.body.lent34_studentuSk1_" + i) != "" || eval("req.body.lent34_studentuSk2_" + i) != "" ||
            eval("req.body.lent34_studentuSk3_" + i) != "" || eval("req.body.lent34_studentuSk4_" + i) != "" ||
            eval("req.body.lent34_studentuSk5_" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34.push({
              nr: i,
              studKryptis: eval("req.body.lent34_studKryptis" + i),
              studProgr: eval("req.body.lent34_studProgr" + i),
              studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
            })
          }
        } // 35 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          if (eval("req.body.lent35_studKryptis" + i) != "" || eval("req.body.lent35_studProgr" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr1_" + i) != "" || eval("req.body.lent35_studentuSk1_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr2_" + i) != "" || eval("req.body.lent35_studentuSk2_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr3_" + i) != "" || eval("req.body.lent35_studentuSk3_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr4_" + i) != "" || eval("req.body.lent35_studentuSk4_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr5_" + i) != "" || eval("req.body.lent35_studentuSk5_" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35.push({
              nr: i,
              studKryptis: eval("req.body.lent35_studKryptis" + i),
              studProgr: eval("req.body.lent35_studProgr" + i),
              studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
              pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
              pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
              pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
              pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
              pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
            })
          }
        } // 36 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02studProgr" + i) != "" ||
            eval("req.body.kV5_KT02diplomantas" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 37 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01studProgr" + i) != "" ||
            eval("req.body.kV5_KT01diplomantas" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        } // 38 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          if (eval("req.body.lent38_pavadinimas" + i) != "" || eval("req.body.lent38_vykdytPartner" + i) != "" ||
            eval("req.body.lent38_dalyviai" + i) != "" || eval("req.body.lent38_finansavim" + i) != "" ||
            eval("req.body.lent38_rezultatai" + i) != "" || eval("req.body.lent38_salisData" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38.push({
              nr: i,
              pavadinimas: eval("req.body.lent38_pavadinimas" + i),
              vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
              dalyviai: eval("req.body.lent38_dalyviai" + i),
              finansavim: eval("req.body.lent38_finansavim" + i),
              rezultatai: eval("req.body.lent38_rezultatai" + i),
              salisData: eval("req.body.lent38_salisData" + i)
            })
          }
        } // 39 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          if (eval("req.body.lent39_kryptys" + i) != "" || eval("req.body.lent39_aprasymas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39.push({
              nr: i,
              kryptys: eval("req.body.lent39_kryptys" + i),
              aprasymas: eval("req.body.lent39_aprasymas" + i)
            })
          }
        } // 40 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          if (eval("req.body.lent40_socaprasymas" + i) != "" || eval("req.body.lent40_socdestytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
              aprasymas: eval("req.body.lent40_socaprasymas" + i),
              destytojas: eval("req.body.lent40_socdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          if (eval("req.body.lent40_aplinkaprasymas" + i) != "" || eval("req.body.lent40_aplinkdestytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
              aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
              destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          if (eval("req.body.lent40_valstybaprasymas" + i) != "" || eval("req.body.lent40_valstybdestytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
              aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
              destytojas: eval("req.body.lent40_valstybdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          if (eval("req.body.lent40_etnoaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
              aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          if (eval("req.body.lent40_savaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
              aprasymas: eval("req.body.lent40_savaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 41 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          if (eval("req.body.lent41_veikla" + i) != "" || eval("req.body.lent41_veiklPartner" + i) != "" ||
            eval("req.body.lent41_organizac" + i) != "" || eval("req.body.lent41_veiklOrientavim" + i) != "" ||
            eval("req.body.lent41_dalyviai" + i) != "" || eval("req.body.lent41_laikas" + i) != "" ||
            eval("req.body.lent41_vieta" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41.push({
              nr: i,
              veikla: eval("req.body.lent41_veikla" + i),
              veiklPartner: eval("req.body.lent41_veiklPartner" + i),
              organizac: eval("req.body.lent41_organizac" + i),
              veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
              dalyviai: eval("req.body.lent41_dalyviai" + i),
              laikas: eval("req.body.lent41_laikas" + i),
              vieta: eval("req.body.lent41_vieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          if (eval("req.body.veiklSavianalizStiprybes" + i) != "" || eval("req.body.veiklSavianalizTobulintina" + i) != "") {
            foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
              stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
              tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
            })
          }
        }
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
          foundUser.mm2022_2023.katedrosVedejas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.busenaVedejo22_23 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2022_2023.katedrosVedejas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/user-window-2022-2023");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-submit-2023-2024", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2023_2024.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          if (eval("req.body.mV2_D04studKryptis" + i) != "" || eval("req.body.mV2_D04studProgr" + i) != "" ||
            eval("req.body.mV2_D04progrKodas" + i) != "" || eval("req.body.mV2_D04isakNrData" + i) != "" ||
            eval("req.body.mV2_D04studKryptAkredit" + i) != "" || eval("req.body.mV2_D04akreditLaikot" + i) != "" ||
            eval("req.body.mV2_D04eCTS" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kKPP1_1.push({
              nr: i,
              studKryptis: eval("req.body.mV2_D04studKryptis" + i),
              studProgr: eval("req.body.mV2_D04studProgr" + i),
              progrKodas: eval("req.body.mV2_D04progrKodas" + i),
              isakNrData: eval("req.body.mV2_D04isakNrData" + i),
              studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
              akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
              eCTS: eval("req.body.mV2_D04eCTS" + i)
            })
          }
        } // 2 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.lent2_pavVard" + i) != "" || eval("req.body.lent2_pareigos" + i) != "" || eval("req.body.lent2_darbovTipas" + i) != "" ||
            eval("req.body.lent2_pedagogStazas" + i) != "" || eval("req.body.lent2_praktinStazas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kDS1.push({
              nr: i,
              vardPavard: eval("req.body.lent2_pavVard" + i),
              pareigos: eval("req.body.lent2_pareigos" + i),
              darbovTipas: eval("req.body.lent2_darbovTipas" + i),
              pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
              praktinStazas: eval("req.body.lent2_praktinStazas" + i)
            })
          }
        } // 3 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.lent3_studKryptis" + i) != "" || eval("req.body.lent3_studProgr" + i) != "" ||
            eval("req.body.lent3_destytojas" + i) != "" || eval("req.body.lent3_imonIstaig" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kKPP1_3.push({
              nr: i,
              studKryptis: eval("req.body.lent3_studKryptis" + i),
              studProgr: eval("req.body.lent3_studProgr" + i),
              destytojas: eval("req.body.lent3_destytojas" + i),
              imonIstaig: eval("req.body.lent3_imonIstaig" + i)
            })
          }
        } // 4 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.lent4_bibliografApr" + i) != "" || eval("req.body.lent4_tipas" + i) != "" ||
            eval("req.body.lent4_mokslSrit" + i) != "" || eval("req.body.lent4_mokslKrypt" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.lent4_bibliografApr" + i),
              tipas: eval("req.body.lent4_tipas" + i),
              mokslSrit: eval("req.body.lent4_mokslSrit" + i),
              mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
            })
          }
        } // 5 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.mV2_M04destytojas" + i) != "" || eval("req.body.mV2_M04studProgr" + i) != "" ||
            eval("req.body.mV2_M04dalykPavad" + i) != "" || eval("req.body.mV2_M04apimtisKredit" + i) != "" || eval("req.body.mV2_M04busena" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04.push({
              nr: i,
              destytojas: eval("req.body.mV2_M04destytojas" + i),
              studProgr: eval("req.body.mV2_M04studProgr" + i),
              dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
              busena: eval("req.body.mV2_M04busena" + i)
            })
          }
        } // 6 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.mV2_D06studProgr" + i) != "" || eval("req.body.mV2_D06progrKodas" + i) != "" ||
            eval("req.body.mV2_D06atlPatobulin" + i) != "" || eval("req.body.mV2_D06tobulinPriezast" + i) != "" ||
            eval("req.body.mV2_D06tobulinIrod" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06.push({
              nr: i,
              studProgr: eval("req.body.mV2_D06studProgr" + i),
              progrKodas: eval("req.body.mV2_D06progrKodas" + i),
              atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
              tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
              tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
            })
          }
        } // 7 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.mV2_D01destytojas" + i) != "" || eval("req.body.mV2_D01komitetas" + i) != "" ||
            eval("req.body.mV2_D01veikla" + i) != "" || eval("req.body.mV2_D01rezultatai" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01.push({
              nr: i,
              destytojas: eval("req.body.mV2_D01destytojas" + i),
              komitetas: eval("req.body.mV2_D01komitetas" + i),
              veikla: eval("req.body.mV2_D01veikla" + i),
              rezultatai: eval("req.body.mV2_D01rezultatai" + i)
            })
          }
        } // 8 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.mV2_D02destytojas" + i) != "" || eval("req.body.mV2_D02studKrypt" + i) != "" ||
            eval("req.body.mV2_D02veikla" + i) != "" || eval("req.body.mV2_D02rezultatai" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02.push({
              nr: i,
              destytojas: eval("req.body.mV2_D02destytojas" + i),
              studKryptis: eval("req.body.mV2_D02studKrypt" + i),
              veikla: eval("req.body.mV2_D02veikla" + i),
              rezultatai: eval("req.body.mV2_D02rezultatai" + i)
            })
          }
        } // 9 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.mV2_D03destytojas" + i) != "" || eval("req.body.mV2_D03studKryptis" + i) != "" ||
            eval("req.body.mV2_D03studProgr" + i) != "" || eval("req.body.mV2_D03veikla" + i) != "" || eval("req.body.mV2_D03rezultatai" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03.push({
              nr: i,
              destytojas: eval("req.body.mV2_D03destytojas" + i),
              studKryptis: eval("req.body.mV2_D03studKryptis" + i),
              studProgr: eval("req.body.mV2_D03studProgr" + i),
              veikla: eval("req.body.mV2_D03veikla" + i),
              rezultatai: eval("req.body.mV2_D03rezultatai" + i)
            })
          }
        } // 10 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.mV2_M03destytojas" + i) != "" || eval("req.body.mV2_M03studProgr" + i) != "" ||
            eval("req.body.mV2_M03dalykPavad" + i) != "" || eval("req.body.mV2_M03apimtisKredit" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03.push({
              nr: i,
              destytojas: eval("req.body.mV2_M03destytojas" + i),
              studProgr: eval("req.body.mV2_M03studProgr" + i),
              dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)
            })
          }
        } // 11 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.mV2_S01destytojas" + i) != "" || eval("req.body.mV2_S01veikla" + i) != "" ||
            eval("req.body.mV2_S01dataVieta" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01.push({
              nr: i,
              destytojas: eval("req.body.mV2_S01destytojas" + i),
              veikla: eval("req.body.mV2_S01veikla" + i),
              dataVieta: eval("req.body.mV2_S01dataVieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          if (eval("req.body.mV2_Sstiprybes" + i) != "" || eval("req.body.mV2_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S.push({
              nr: i,
              stiprybes: eval("req.body.mV2_Sstiprybes" + i),
              tobulintina: eval("req.body.mV2_Stobulintina" + i)
            })
          }
        } // 12 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T01tyrTemat" + i) != "" || eval("req.body.tMTEP3_T01destytojas" + i) != "" ||
            eval("req.body.tMTEP3_T01tyrGrup" + i) != "" || eval("req.body.tMTEP3_T01mokslSrit" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
              destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
              tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 13 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 14 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 15 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T04konsultantas" + i) != "" || eval("req.body.tMTEP3_T04uzsakovas" + i) != "" ||
            eval("req.body.tMTEP3_T04tema" + i) != "" || eval("req.body.tMTEP3_T04data" + i) != "" ||
            eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
              nr: i,
              konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 16 lentelė 1 submit-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          if (eval("req.body.tMTEP3_T05destytojas" + i) != "" || eval("req.body.tMTEP3_T05veiklPavad" + i) != "" ||
            eval("req.body.tMTEP3_T05veiklRezult" + i) != "" || eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 16 lentelė 2 submit-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          if (eval("req.body.lent162_destytojas" + i) != "" || eval("req.body.lent162_pavadinimas" + i) != "" ||
            eval("req.body.lent162_pastabos" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162.push({
              nr: i,
              destytojas: eval("req.body.lent162_destytojas" + i),
              pavadinimas: eval("req.body.lent162_pavadinimas" + i),
              pastabos: eval("req.body.lent162_pastabos" + i)
            })
          }
        } // 16 lentelė 3 submit-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          if (eval("req.body.tMTEP3_T16autorius" + i) != "" || eval("req.body.tMTEP3_T16pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T16uzsakovas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
              nr: i,
              rengejai: eval("req.body.tMTEP3_T16autorius" + i),
              pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
            })
          }
        } // 17 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 18 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T07atlikejas" + i) != "" || eval("req.body.tMTEP3_T07menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T07pavadinimas" + i) != "" || eval("req.body.tMTEP3_T07atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T07data" + i) != "" || eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 19 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T08atlikejas" + i) != "" || eval("req.body.tMTEP3_T08menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T08pavadinimas" + i) != "" || eval("req.body.tMTEP3_T08atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T08data" + i) != "" || eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 20 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T09atlikejas" + i) != "" || eval("req.body.tMTEP3_T09menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T09pavadinimas" + i) != "" || eval("req.body.tMTEP3_T09atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T09data" + i) != "" || eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 21 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T10destytojas" + i) != "" || eval("req.body.tMTEP3_T10veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T10dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T10dalyvSk" + i) != "" || eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 22 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T11destytojas" + i) != "" || eval("req.body.tMTEP3_T11veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T11dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T11dalyvSk" + i) != "" || eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 23 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T12destytojas" + i) != "" || eval("req.body.tMTEP3_T12veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 24 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          if (eval("req.body.tMTEP3_T14destytojas" + i) != "" || eval("req.body.tMTEP3_T14renginys" + i) != "" ||
            eval("req.body.tMTEP3_T14veiklPobud" + i) != "" || eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // 25 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.tMTEP3_T13destytojas" + i) != "" || eval("req.body.tMTEP3_T13studDuom" + i) != "" ||
            eval("req.body.tMTEP3_T13renginioPavad" + i) != "" || eval("req.body.tMTEP3_T13rezultatas" + i) != "" ||
            eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        } // 26 lentelė submit-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          if (eval("req.body.kTOV4_KV01mokymosiKomppavad" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          if (eval("req.body.kTOV4_KV01tyrimuKomppavad" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          if (eval("req.body.kTOV4_KV01bendrKomppavad" + i) != "" || eval("req.body.kTOV4_KV01bendrKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKompdalyvis" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          if (eval("req.body.kTOV4_KV01dalykKomppavad" + i) != "" || eval("req.body.kTOV4_KV01dalykKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompdalyvis" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4
        // bendros val.
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lentelė
          //mokymosi
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal

        // 27 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.lent27_renginysTema" + i) != "" || eval("req.body.lent27_kompGrupe" + i) != "" ||
            eval("req.body.lent27_skirta" + i) != "" || eval("req.body.lent27_lektorius" + i) != "" ||
            eval("req.body.lent27_lektTipas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27.push({
              nr: i,
              renginysTema: eval("req.body.lent27_renginysTema" + i),
              kompGrupe: eval("req.body.lent27_kompGrupe" + i),
              skirta: eval("req.body.lent27_skirta" + i),
              lektorius: eval("req.body.lent27_lektorius" + i),
              lektTipas: eval("req.body.lent27_lektTipas" + i)
            })
          }
        } // 28 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          if (eval("req.body.lent28_destytojas" + i) != "" || eval("req.body.lent28_imonIstaig" + i) != "" ||
            eval("req.body.lent28_kompGrupe" + i) != "" || eval("req.body.lent28_trukmeVal" + i) != "" ||
            eval("req.body.lent28_data" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28.push({
              nr: i,
              destytojas: eval("req.body.lent28_destytojas" + i),
              imonIstaig: eval("req.body.lent28_imonIstaig" + i),
              kompGrupe: eval("req.body.lent28_kompGrupe" + i),
              trukmeVal: eval("req.body.lent28_trukmeVal" + i),
              data: eval("req.body.lent28_data" + i)
            })
          }
        } // 29 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_KV03destytojas" + i) != "" || eval("req.body.kTOV4_KV03studKryptis" + i) != "" ||
            eval("req.body.kTOV4_KV03salis" + i) != "" || eval("req.body.kTOV4_KV03institucija" + i) != "" ||
            eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 30 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.lent30_destytojas" + i) != "" || eval("req.body.lent30_studKryptis" + i) != "" ||
            eval("req.body.lent30_salis" + i) != "" || eval("req.body.lent30_institucija" + i) != "" ||
            eval("req.body.lent30_dalykas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30.push({
              nr: i,
              destytojas: eval("req.body.lent30_destytojas" + i),
              studKryptis: eval("req.body.lent30_studKryptis" + i),
              salis: eval("req.body.lent30_salis" + i),
              institucija: eval("req.body.lent30_institucija" + i),
              dalykas: eval("req.body.lent30_dalykas" + i)
            })
          }
        } // 31 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          if (eval("req.body.kTOV4_O01_1destytojas" + i) != "" || eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 31 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 32 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          if (eval("req.body.lent32_studKryptis" + i) != "" || eval("req.body.lent32_studProgr" + i) != "" ||
            eval("req.body.lent32_strategPartner" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32.push({
              nr: i,
              studKryptis: eval("req.body.lent32_studKryptis" + i),
              studProgr: eval("req.body.lent32_studProgr" + i),
              strategPartner: eval("req.body.lent32_strategPartner" + i)
            })
          }
        } // 33 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.lent33_veikla" + i) != "" || eval("req.body.lent33_socPartneris" + i) != "" ||
            eval("req.body.lent33_destytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33.push({
              nr: i,
              veikla: eval("req.body.lent33_veikla" + i),
              socPartneris: eval("req.body.lent33_socPartneris" + i),
              destytojas: eval("req.body.lent33_destytojas" + i)
            })
          }
        } // 34 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.lent34_studKryptis" + i) != "" || eval("req.body.lent34_studProgr" + i) != "" ||
            eval("req.body.lent34_studentuSk1_" + i) != "" || eval("req.body.lent34_studentuSk2_" + i) != "" ||
            eval("req.body.lent34_studentuSk3_" + i) != "" || eval("req.body.lent34_studentuSk4_" + i) != "" ||
            eval("req.body.lent34_studentuSk5_" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34.push({
              nr: i,
              studKryptis: eval("req.body.lent34_studKryptis" + i),
              studProgr: eval("req.body.lent34_studProgr" + i),
              studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
            })
          }
        } // 35 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          if (eval("req.body.lent35_studKryptis" + i) != "" || eval("req.body.lent35_studProgr" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr1_" + i) != "" || eval("req.body.lent35_studentuSk1_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr2_" + i) != "" || eval("req.body.lent35_studentuSk2_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr3_" + i) != "" || eval("req.body.lent35_studentuSk3_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr4_" + i) != "" || eval("req.body.lent35_studentuSk4_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr5_" + i) != "" || eval("req.body.lent35_studentuSk5_" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35.push({
              nr: i,
              studKryptis: eval("req.body.lent35_studKryptis" + i),
              studProgr: eval("req.body.lent35_studProgr" + i),
              studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
              pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
              pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
              pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
              pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
              pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
            })
          }
        } // 36 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02studProgr" + i) != "" ||
            eval("req.body.kV5_KT02diplomantas" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 37 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01studProgr" + i) != "" ||
            eval("req.body.kV5_KT01diplomantas" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        } // 38 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          if (eval("req.body.lent38_pavadinimas" + i) != "" || eval("req.body.lent38_vykdytPartner" + i) != "" ||
            eval("req.body.lent38_dalyviai" + i) != "" || eval("req.body.lent38_finansavim" + i) != "" ||
            eval("req.body.lent38_rezultatai" + i) != "" || eval("req.body.lent38_salisData" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38.push({
              nr: i,
              pavadinimas: eval("req.body.lent38_pavadinimas" + i),
              vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
              dalyviai: eval("req.body.lent38_dalyviai" + i),
              finansavim: eval("req.body.lent38_finansavim" + i),
              rezultatai: eval("req.body.lent38_rezultatai" + i),
              salisData: eval("req.body.lent38_salisData" + i)
            })
          }
        } // 39 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          if (eval("req.body.lent39_kryptys" + i) != "" || eval("req.body.lent39_aprasymas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39.push({
              nr: i,
              kryptys: eval("req.body.lent39_kryptys" + i),
              aprasymas: eval("req.body.lent39_aprasymas" + i)
            })
          }
        } // 40 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          if (eval("req.body.lent40_socaprasymas" + i) != "" || eval("req.body.lent40_socdestytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
              aprasymas: eval("req.body.lent40_socaprasymas" + i),
              destytojas: eval("req.body.lent40_socdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          if (eval("req.body.lent40_aplinkaprasymas" + i) != "" || eval("req.body.lent40_aplinkdestytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
              aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
              destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          if (eval("req.body.lent40_valstybaprasymas" + i) != "" || eval("req.body.lent40_valstybdestytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
              aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
              destytojas: eval("req.body.lent40_valstybdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          if (eval("req.body.lent40_etnoaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
              aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          if (eval("req.body.lent40_savaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
              aprasymas: eval("req.body.lent40_savaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 41 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          if (eval("req.body.lent41_veikla" + i) != "" || eval("req.body.lent41_veiklPartner" + i) != "" ||
            eval("req.body.lent41_organizac" + i) != "" || eval("req.body.lent41_veiklOrientavim" + i) != "" ||
            eval("req.body.lent41_dalyviai" + i) != "" || eval("req.body.lent41_laikas" + i) != "" ||
            eval("req.body.lent41_vieta" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41.push({
              nr: i,
              veikla: eval("req.body.lent41_veikla" + i),
              veiklPartner: eval("req.body.lent41_veiklPartner" + i),
              organizac: eval("req.body.lent41_organizac" + i),
              veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
              dalyviai: eval("req.body.lent41_dalyviai" + i),
              laikas: eval("req.body.lent41_laikas" + i),
              vieta: eval("req.body.lent41_vieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          if (eval("req.body.veiklSavianalizStiprybes" + i) != "" || eval("req.body.veiklSavianalizTobulintina" + i) != "") {
            foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
              stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
              tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
            })
          }
        }
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
          foundUser.mm2023_2024.katedrosVedejas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.busenaVedejo23_24 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2023_2024.katedrosVedejas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/user-window-2023-2024");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-submit-2024-2025", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2024_2025.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          if (eval("req.body.mV2_D04studKryptis" + i) != "" || eval("req.body.mV2_D04studProgr" + i) != "" ||
            eval("req.body.mV2_D04progrKodas" + i) != "" || eval("req.body.mV2_D04isakNrData" + i) != "" ||
            eval("req.body.mV2_D04studKryptAkredit" + i) != "" || eval("req.body.mV2_D04akreditLaikot" + i) != "" ||
            eval("req.body.mV2_D04eCTS" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kKPP1_1.push({
              nr: i,
              studKryptis: eval("req.body.mV2_D04studKryptis" + i),
              studProgr: eval("req.body.mV2_D04studProgr" + i),
              progrKodas: eval("req.body.mV2_D04progrKodas" + i),
              isakNrData: eval("req.body.mV2_D04isakNrData" + i),
              studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
              akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
              eCTS: eval("req.body.mV2_D04eCTS" + i)
            })
          }
        } // 2 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.lent2_pavVard" + i) != "" || eval("req.body.lent2_pareigos" + i) != "" || eval("req.body.lent2_darbovTipas" + i) != "" ||
            eval("req.body.lent2_pedagogStazas" + i) != "" || eval("req.body.lent2_praktinStazas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kDS1.push({
              nr: i,
              vardPavard: eval("req.body.lent2_pavVard" + i),
              pareigos: eval("req.body.lent2_pareigos" + i),
              darbovTipas: eval("req.body.lent2_darbovTipas" + i),
              pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
              praktinStazas: eval("req.body.lent2_praktinStazas" + i)
            })
          }
        } // 3 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.lent3_studKryptis" + i) != "" || eval("req.body.lent3_studProgr" + i) != "" ||
            eval("req.body.lent3_destytojas" + i) != "" || eval("req.body.lent3_imonIstaig" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kKPP1_3.push({
              nr: i,
              studKryptis: eval("req.body.lent3_studKryptis" + i),
              studProgr: eval("req.body.lent3_studProgr" + i),
              destytojas: eval("req.body.lent3_destytojas" + i),
              imonIstaig: eval("req.body.lent3_imonIstaig" + i)
            })
          }
        } // 4 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.lent4_bibliografApr" + i) != "" || eval("req.body.lent4_tipas" + i) != "" ||
            eval("req.body.lent4_mokslSrit" + i) != "" || eval("req.body.lent4_mokslKrypt" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.lent4_bibliografApr" + i),
              tipas: eval("req.body.lent4_tipas" + i),
              mokslSrit: eval("req.body.lent4_mokslSrit" + i),
              mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
            })
          }
        } // 5 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.mV2_M04destytojas" + i) != "" || eval("req.body.mV2_M04studProgr" + i) != "" ||
            eval("req.body.mV2_M04dalykPavad" + i) != "" || eval("req.body.mV2_M04apimtisKredit" + i) != "" || eval("req.body.mV2_M04busena" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04.push({
              nr: i,
              destytojas: eval("req.body.mV2_M04destytojas" + i),
              studProgr: eval("req.body.mV2_M04studProgr" + i),
              dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
              busena: eval("req.body.mV2_M04busena" + i)
            })
          }
        } // 6 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.mV2_D06studProgr" + i) != "" || eval("req.body.mV2_D06progrKodas" + i) != "" ||
            eval("req.body.mV2_D06atlPatobulin" + i) != "" || eval("req.body.mV2_D06tobulinPriezast" + i) != "" ||
            eval("req.body.mV2_D06tobulinIrod" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06.push({
              nr: i,
              studProgr: eval("req.body.mV2_D06studProgr" + i),
              progrKodas: eval("req.body.mV2_D06progrKodas" + i),
              atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
              tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
              tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
            })
          }
        } // 7 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.mV2_D01destytojas" + i) != "" || eval("req.body.mV2_D01komitetas" + i) != "" ||
            eval("req.body.mV2_D01veikla" + i) != "" || eval("req.body.mV2_D01rezultatai" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01.push({
              nr: i,
              destytojas: eval("req.body.mV2_D01destytojas" + i),
              komitetas: eval("req.body.mV2_D01komitetas" + i),
              veikla: eval("req.body.mV2_D01veikla" + i),
              rezultatai: eval("req.body.mV2_D01rezultatai" + i)
            })
          }
        } // 8 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.mV2_D02destytojas" + i) != "" || eval("req.body.mV2_D02studKrypt" + i) != "" ||
            eval("req.body.mV2_D02veikla" + i) != "" || eval("req.body.mV2_D02rezultatai" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02.push({
              nr: i,
              destytojas: eval("req.body.mV2_D02destytojas" + i),
              studKryptis: eval("req.body.mV2_D02studKrypt" + i),
              veikla: eval("req.body.mV2_D02veikla" + i),
              rezultatai: eval("req.body.mV2_D02rezultatai" + i)
            })
          }
        } // 9 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.mV2_D03destytojas" + i) != "" || eval("req.body.mV2_D03studKryptis" + i) != "" ||
            eval("req.body.mV2_D03studProgr" + i) != "" || eval("req.body.mV2_D03veikla" + i) != "" || eval("req.body.mV2_D03rezultatai" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03.push({
              nr: i,
              destytojas: eval("req.body.mV2_D03destytojas" + i),
              studKryptis: eval("req.body.mV2_D03studKryptis" + i),
              studProgr: eval("req.body.mV2_D03studProgr" + i),
              veikla: eval("req.body.mV2_D03veikla" + i),
              rezultatai: eval("req.body.mV2_D03rezultatai" + i)
            })
          }
        } // 10 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.mV2_M03destytojas" + i) != "" || eval("req.body.mV2_M03studProgr" + i) != "" ||
            eval("req.body.mV2_M03dalykPavad" + i) != "" || eval("req.body.mV2_M03apimtisKredit" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03.push({
              nr: i,
              destytojas: eval("req.body.mV2_M03destytojas" + i),
              studProgr: eval("req.body.mV2_M03studProgr" + i),
              dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)
            })
          }
        } // 11 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.mV2_S01destytojas" + i) != "" || eval("req.body.mV2_S01veikla" + i) != "" ||
            eval("req.body.mV2_S01dataVieta" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01.push({
              nr: i,
              destytojas: eval("req.body.mV2_S01destytojas" + i),
              veikla: eval("req.body.mV2_S01veikla" + i),
              dataVieta: eval("req.body.mV2_S01dataVieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          if (eval("req.body.mV2_Sstiprybes" + i) != "" || eval("req.body.mV2_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S.push({
              nr: i,
              stiprybes: eval("req.body.mV2_Sstiprybes" + i),
              tobulintina: eval("req.body.mV2_Stobulintina" + i)
            })
          }
        } // 12 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T01tyrTemat" + i) != "" || eval("req.body.tMTEP3_T01destytojas" + i) != "" ||
            eval("req.body.tMTEP3_T01tyrGrup" + i) != "" || eval("req.body.tMTEP3_T01mokslSrit" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
              destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
              tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 13 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 14 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 15 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T04konsultantas" + i) != "" || eval("req.body.tMTEP3_T04uzsakovas" + i) != "" ||
            eval("req.body.tMTEP3_T04tema" + i) != "" || eval("req.body.tMTEP3_T04data" + i) != "" ||
            eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
              nr: i,
              konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 16 lentelė 1 submit-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          if (eval("req.body.tMTEP3_T05destytojas" + i) != "" || eval("req.body.tMTEP3_T05veiklPavad" + i) != "" ||
            eval("req.body.tMTEP3_T05veiklRezult" + i) != "" || eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 16 lentelė 2 submit-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          if (eval("req.body.lent162_destytojas" + i) != "" || eval("req.body.lent162_pavadinimas" + i) != "" ||
            eval("req.body.lent162_pastabos" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162.push({
              nr: i,
              destytojas: eval("req.body.lent162_destytojas" + i),
              pavadinimas: eval("req.body.lent162_pavadinimas" + i),
              pastabos: eval("req.body.lent162_pastabos" + i)
            })
          }
        } // 16 lentelė 3 submit-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          if (eval("req.body.tMTEP3_T16autorius" + i) != "" || eval("req.body.tMTEP3_T16pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T16uzsakovas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
              nr: i,
              rengejai: eval("req.body.tMTEP3_T16autorius" + i),
              pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
            })
          }
        } // 17 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 18 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T07atlikejas" + i) != "" || eval("req.body.tMTEP3_T07menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T07pavadinimas" + i) != "" || eval("req.body.tMTEP3_T07atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T07data" + i) != "" || eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 19 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T08atlikejas" + i) != "" || eval("req.body.tMTEP3_T08menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T08pavadinimas" + i) != "" || eval("req.body.tMTEP3_T08atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T08data" + i) != "" || eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 20 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T09atlikejas" + i) != "" || eval("req.body.tMTEP3_T09menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T09pavadinimas" + i) != "" || eval("req.body.tMTEP3_T09atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T09data" + i) != "" || eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 21 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T10destytojas" + i) != "" || eval("req.body.tMTEP3_T10veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T10dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T10dalyvSk" + i) != "" || eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 22 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T11destytojas" + i) != "" || eval("req.body.tMTEP3_T11veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T11dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T11dalyvSk" + i) != "" || eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 23 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T12destytojas" + i) != "" || eval("req.body.tMTEP3_T12veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 24 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          if (eval("req.body.tMTEP3_T14destytojas" + i) != "" || eval("req.body.tMTEP3_T14renginys" + i) != "" ||
            eval("req.body.tMTEP3_T14veiklPobud" + i) != "" || eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // 25 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.tMTEP3_T13destytojas" + i) != "" || eval("req.body.tMTEP3_T13studDuom" + i) != "" ||
            eval("req.body.tMTEP3_T13renginioPavad" + i) != "" || eval("req.body.tMTEP3_T13rezultatas" + i) != "" ||
            eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        } // 26 lentelė submit-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          if (eval("req.body.kTOV4_KV01mokymosiKomppavad" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          if (eval("req.body.kTOV4_KV01tyrimuKomppavad" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          if (eval("req.body.kTOV4_KV01bendrKomppavad" + i) != "" || eval("req.body.kTOV4_KV01bendrKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKompdalyvis" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          if (eval("req.body.kTOV4_KV01dalykKomppavad" + i) != "" || eval("req.body.kTOV4_KV01dalykKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompdalyvis" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4
        // bendros val.
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lentelė
          //mokymosi
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal

        // 27 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.lent27_renginysTema" + i) != "" || eval("req.body.lent27_kompGrupe" + i) != "" ||
            eval("req.body.lent27_skirta" + i) != "" || eval("req.body.lent27_lektorius" + i) != "" ||
            eval("req.body.lent27_lektTipas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27.push({
              nr: i,
              renginysTema: eval("req.body.lent27_renginysTema" + i),
              kompGrupe: eval("req.body.lent27_kompGrupe" + i),
              skirta: eval("req.body.lent27_skirta" + i),
              lektorius: eval("req.body.lent27_lektorius" + i),
              lektTipas: eval("req.body.lent27_lektTipas" + i)
            })
          }
        } // 28 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          if (eval("req.body.lent28_destytojas" + i) != "" || eval("req.body.lent28_imonIstaig" + i) != "" ||
            eval("req.body.lent28_kompGrupe" + i) != "" || eval("req.body.lent28_trukmeVal" + i) != "" ||
            eval("req.body.lent28_data" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28.push({
              nr: i,
              destytojas: eval("req.body.lent28_destytojas" + i),
              imonIstaig: eval("req.body.lent28_imonIstaig" + i),
              kompGrupe: eval("req.body.lent28_kompGrupe" + i),
              trukmeVal: eval("req.body.lent28_trukmeVal" + i),
              data: eval("req.body.lent28_data" + i)
            })
          }
        } // 29 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_KV03destytojas" + i) != "" || eval("req.body.kTOV4_KV03studKryptis" + i) != "" ||
            eval("req.body.kTOV4_KV03salis" + i) != "" || eval("req.body.kTOV4_KV03institucija" + i) != "" ||
            eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 30 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.lent30_destytojas" + i) != "" || eval("req.body.lent30_studKryptis" + i) != "" ||
            eval("req.body.lent30_salis" + i) != "" || eval("req.body.lent30_institucija" + i) != "" ||
            eval("req.body.lent30_dalykas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30.push({
              nr: i,
              destytojas: eval("req.body.lent30_destytojas" + i),
              studKryptis: eval("req.body.lent30_studKryptis" + i),
              salis: eval("req.body.lent30_salis" + i),
              institucija: eval("req.body.lent30_institucija" + i),
              dalykas: eval("req.body.lent30_dalykas" + i)
            })
          }
        } // 31 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          if (eval("req.body.kTOV4_O01_1destytojas" + i) != "" || eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 31 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 32 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          if (eval("req.body.lent32_studKryptis" + i) != "" || eval("req.body.lent32_studProgr" + i) != "" ||
            eval("req.body.lent32_strategPartner" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32.push({
              nr: i,
              studKryptis: eval("req.body.lent32_studKryptis" + i),
              studProgr: eval("req.body.lent32_studProgr" + i),
              strategPartner: eval("req.body.lent32_strategPartner" + i)
            })
          }
        } // 33 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.lent33_veikla" + i) != "" || eval("req.body.lent33_socPartneris" + i) != "" ||
            eval("req.body.lent33_destytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33.push({
              nr: i,
              veikla: eval("req.body.lent33_veikla" + i),
              socPartneris: eval("req.body.lent33_socPartneris" + i),
              destytojas: eval("req.body.lent33_destytojas" + i)
            })
          }
        } // 34 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.lent34_studKryptis" + i) != "" || eval("req.body.lent34_studProgr" + i) != "" ||
            eval("req.body.lent34_studentuSk1_" + i) != "" || eval("req.body.lent34_studentuSk2_" + i) != "" ||
            eval("req.body.lent34_studentuSk3_" + i) != "" || eval("req.body.lent34_studentuSk4_" + i) != "" ||
            eval("req.body.lent34_studentuSk5_" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34.push({
              nr: i,
              studKryptis: eval("req.body.lent34_studKryptis" + i),
              studProgr: eval("req.body.lent34_studProgr" + i),
              studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
            })
          }
        } // 35 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          if (eval("req.body.lent35_studKryptis" + i) != "" || eval("req.body.lent35_studProgr" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr1_" + i) != "" || eval("req.body.lent35_studentuSk1_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr2_" + i) != "" || eval("req.body.lent35_studentuSk2_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr3_" + i) != "" || eval("req.body.lent35_studentuSk3_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr4_" + i) != "" || eval("req.body.lent35_studentuSk4_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr5_" + i) != "" || eval("req.body.lent35_studentuSk5_" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35.push({
              nr: i,
              studKryptis: eval("req.body.lent35_studKryptis" + i),
              studProgr: eval("req.body.lent35_studProgr" + i),
              studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
              pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
              pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
              pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
              pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
              pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
            })
          }
        } // 36 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02studProgr" + i) != "" ||
            eval("req.body.kV5_KT02diplomantas" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 37 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01studProgr" + i) != "" ||
            eval("req.body.kV5_KT01diplomantas" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        } // 38 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          if (eval("req.body.lent38_pavadinimas" + i) != "" || eval("req.body.lent38_vykdytPartner" + i) != "" ||
            eval("req.body.lent38_dalyviai" + i) != "" || eval("req.body.lent38_finansavim" + i) != "" ||
            eval("req.body.lent38_rezultatai" + i) != "" || eval("req.body.lent38_salisData" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38.push({
              nr: i,
              pavadinimas: eval("req.body.lent38_pavadinimas" + i),
              vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
              dalyviai: eval("req.body.lent38_dalyviai" + i),
              finansavim: eval("req.body.lent38_finansavim" + i),
              rezultatai: eval("req.body.lent38_rezultatai" + i),
              salisData: eval("req.body.lent38_salisData" + i)
            })
          }
        } // 39 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          if (eval("req.body.lent39_kryptys" + i) != "" || eval("req.body.lent39_aprasymas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39.push({
              nr: i,
              kryptys: eval("req.body.lent39_kryptys" + i),
              aprasymas: eval("req.body.lent39_aprasymas" + i)
            })
          }
        } // 40 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          if (eval("req.body.lent40_socaprasymas" + i) != "" || eval("req.body.lent40_socdestytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
              aprasymas: eval("req.body.lent40_socaprasymas" + i),
              destytojas: eval("req.body.lent40_socdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          if (eval("req.body.lent40_aplinkaprasymas" + i) != "" || eval("req.body.lent40_aplinkdestytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
              aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
              destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          if (eval("req.body.lent40_valstybaprasymas" + i) != "" || eval("req.body.lent40_valstybdestytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
              aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
              destytojas: eval("req.body.lent40_valstybdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          if (eval("req.body.lent40_etnoaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
              aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          if (eval("req.body.lent40_savaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
              aprasymas: eval("req.body.lent40_savaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 41 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          if (eval("req.body.lent41_veikla" + i) != "" || eval("req.body.lent41_veiklPartner" + i) != "" ||
            eval("req.body.lent41_organizac" + i) != "" || eval("req.body.lent41_veiklOrientavim" + i) != "" ||
            eval("req.body.lent41_dalyviai" + i) != "" || eval("req.body.lent41_laikas" + i) != "" ||
            eval("req.body.lent41_vieta" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41.push({
              nr: i,
              veikla: eval("req.body.lent41_veikla" + i),
              veiklPartner: eval("req.body.lent41_veiklPartner" + i),
              organizac: eval("req.body.lent41_organizac" + i),
              veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
              dalyviai: eval("req.body.lent41_dalyviai" + i),
              laikas: eval("req.body.lent41_laikas" + i),
              vieta: eval("req.body.lent41_vieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          if (eval("req.body.veiklSavianalizStiprybes" + i) != "" || eval("req.body.veiklSavianalizTobulintina" + i) != "") {
            foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
              stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
              tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
            })
          }
        }
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
          foundUser.mm2024_2025.katedrosVedejas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.busenaVedejo24_25 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2024_2025.katedrosVedejas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/user-window-2024-2025");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});
app.post("/dep-submit-2025-2026", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2025_2026.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          if (eval("req.body.mV2_D04studKryptis" + i) != "" || eval("req.body.mV2_D04studProgr" + i) != "" ||
            eval("req.body.mV2_D04progrKodas" + i) != "" || eval("req.body.mV2_D04isakNrData" + i) != "" ||
            eval("req.body.mV2_D04studKryptAkredit" + i) != "" || eval("req.body.mV2_D04akreditLaikot" + i) != "" ||
            eval("req.body.mV2_D04eCTS" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kKPP1_1.push({
              nr: i,
              studKryptis: eval("req.body.mV2_D04studKryptis" + i),
              studProgr: eval("req.body.mV2_D04studProgr" + i),
              progrKodas: eval("req.body.mV2_D04progrKodas" + i),
              isakNrData: eval("req.body.mV2_D04isakNrData" + i),
              studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
              akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
              eCTS: eval("req.body.mV2_D04eCTS" + i)
            })
          }
        } // 2 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          if (eval("req.body.lent2_pavVard" + i) != "" || eval("req.body.lent2_pareigos" + i) != "" || eval("req.body.lent2_darbovTipas" + i) != "" ||
            eval("req.body.lent2_pedagogStazas" + i) != "" || eval("req.body.lent2_praktinStazas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kDS1.push({
              nr: i,
              vardPavard: eval("req.body.lent2_pavVard" + i),
              pareigos: eval("req.body.lent2_pareigos" + i),
              darbovTipas: eval("req.body.lent2_darbovTipas" + i),
              pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
              praktinStazas: eval("req.body.lent2_praktinStazas" + i)
            })
          }
        } // 3 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          if (eval("req.body.lent3_studKryptis" + i) != "" || eval("req.body.lent3_studProgr" + i) != "" ||
            eval("req.body.lent3_destytojas" + i) != "" || eval("req.body.lent3_imonIstaig" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kKPP1_3.push({
              nr: i,
              studKryptis: eval("req.body.lent3_studKryptis" + i),
              studProgr: eval("req.body.lent3_studProgr" + i),
              destytojas: eval("req.body.lent3_destytojas" + i),
              imonIstaig: eval("req.body.lent3_imonIstaig" + i)
            })
          }
        } // 4 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          if (eval("req.body.lent4_bibliografApr" + i) != "" || eval("req.body.lent4_tipas" + i) != "" ||
            eval("req.body.lent4_mokslSrit" + i) != "" || eval("req.body.lent4_mokslKrypt" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.lent4_bibliografApr" + i),
              tipas: eval("req.body.lent4_tipas" + i),
              mokslSrit: eval("req.body.lent4_mokslSrit" + i),
              mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
            })
          }
        } // 5 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          if (eval("req.body.mV2_M04destytojas" + i) != "" || eval("req.body.mV2_M04studProgr" + i) != "" ||
            eval("req.body.mV2_M04dalykPavad" + i) != "" || eval("req.body.mV2_M04apimtisKredit" + i) != "" || eval("req.body.mV2_M04busena" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04.push({
              nr: i,
              destytojas: eval("req.body.mV2_M04destytojas" + i),
              studProgr: eval("req.body.mV2_M04studProgr" + i),
              dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
              busena: eval("req.body.mV2_M04busena" + i)
            })
          }
        } // 6 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          if (eval("req.body.mV2_D06studProgr" + i) != "" || eval("req.body.mV2_D06progrKodas" + i) != "" ||
            eval("req.body.mV2_D06atlPatobulin" + i) != "" || eval("req.body.mV2_D06tobulinPriezast" + i) != "" ||
            eval("req.body.mV2_D06tobulinIrod" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06.push({
              nr: i,
              studProgr: eval("req.body.mV2_D06studProgr" + i),
              progrKodas: eval("req.body.mV2_D06progrKodas" + i),
              atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
              tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
              tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
            })
          }
        } // 7 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          if (eval("req.body.mV2_D01destytojas" + i) != "" || eval("req.body.mV2_D01komitetas" + i) != "" ||
            eval("req.body.mV2_D01veikla" + i) != "" || eval("req.body.mV2_D01rezultatai" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01.push({
              nr: i,
              destytojas: eval("req.body.mV2_D01destytojas" + i),
              komitetas: eval("req.body.mV2_D01komitetas" + i),
              veikla: eval("req.body.mV2_D01veikla" + i),
              rezultatai: eval("req.body.mV2_D01rezultatai" + i)
            })
          }
        } // 8 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          if (eval("req.body.mV2_D02destytojas" + i) != "" || eval("req.body.mV2_D02studKrypt" + i) != "" ||
            eval("req.body.mV2_D02veikla" + i) != "" || eval("req.body.mV2_D02rezultatai" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02.push({
              nr: i,
              destytojas: eval("req.body.mV2_D02destytojas" + i),
              studKryptis: eval("req.body.mV2_D02studKrypt" + i),
              veikla: eval("req.body.mV2_D02veikla" + i),
              rezultatai: eval("req.body.mV2_D02rezultatai" + i)
            })
          }
        } // 9 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          if (eval("req.body.mV2_D03destytojas" + i) != "" || eval("req.body.mV2_D03studKryptis" + i) != "" ||
            eval("req.body.mV2_D03studProgr" + i) != "" || eval("req.body.mV2_D03veikla" + i) != "" || eval("req.body.mV2_D03rezultatai" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03.push({
              nr: i,
              destytojas: eval("req.body.mV2_D03destytojas" + i),
              studKryptis: eval("req.body.mV2_D03studKryptis" + i),
              studProgr: eval("req.body.mV2_D03studProgr" + i),
              veikla: eval("req.body.mV2_D03veikla" + i),
              rezultatai: eval("req.body.mV2_D03rezultatai" + i)
            })
          }
        } // 10 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          if (eval("req.body.mV2_M03destytojas" + i) != "" || eval("req.body.mV2_M03studProgr" + i) != "" ||
            eval("req.body.mV2_M03dalykPavad" + i) != "" || eval("req.body.mV2_M03apimtisKredit" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03.push({
              nr: i,
              destytojas: eval("req.body.mV2_M03destytojas" + i),
              studProgr: eval("req.body.mV2_M03studProgr" + i),
              dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)
            })
          }
        } // 11 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          if (eval("req.body.mV2_S01destytojas" + i) != "" || eval("req.body.mV2_S01veikla" + i) != "" ||
            eval("req.body.mV2_S01dataVieta" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01.push({
              nr: i,
              destytojas: eval("req.body.mV2_S01destytojas" + i),
              veikla: eval("req.body.mV2_S01veikla" + i),
              dataVieta: eval("req.body.mV2_S01dataVieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          if (eval("req.body.mV2_Sstiprybes" + i) != "" || eval("req.body.mV2_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S.push({
              nr: i,
              stiprybes: eval("req.body.mV2_Sstiprybes" + i),
              tobulintina: eval("req.body.mV2_Stobulintina" + i)
            })
          }
        } // 12 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          if (eval("req.body.tMTEP3_T01tyrTemat" + i) != "" || eval("req.body.tMTEP3_T01destytojas" + i) != "" ||
            eval("req.body.tMTEP3_T01tyrGrup" + i) != "" || eval("req.body.tMTEP3_T01mokslSrit" + i) != "" ||
            eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
              destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
              tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          }
        } // 13 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
            eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
            eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          }
        } // 14 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          }
        } // 15 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          if (eval("req.body.tMTEP3_T04konsultantas" + i) != "" || eval("req.body.tMTEP3_T04uzsakovas" + i) != "" ||
            eval("req.body.tMTEP3_T04tema" + i) != "" || eval("req.body.tMTEP3_T04data" + i) != "" ||
            eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
              nr: i,
              konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          }
        } // 16 lentelė 1 submit-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          if (eval("req.body.tMTEP3_T05destytojas" + i) != "" || eval("req.body.tMTEP3_T05veiklPavad" + i) != "" ||
            eval("req.body.tMTEP3_T05veiklRezult" + i) != "" || eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          }
        } // 16 lentelė 2 submit-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          if (eval("req.body.lent162_destytojas" + i) != "" || eval("req.body.lent162_pavadinimas" + i) != "" ||
            eval("req.body.lent162_pastabos" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162.push({
              nr: i,
              destytojas: eval("req.body.lent162_destytojas" + i),
              pavadinimas: eval("req.body.lent162_pavadinimas" + i),
              pastabos: eval("req.body.lent162_pastabos" + i)
            })
          }
        } // 16 lentelė 3 submit-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          if (eval("req.body.tMTEP3_T16autorius" + i) != "" || eval("req.body.tMTEP3_T16pavadinimas" + i) != "" ||
            eval("req.body.tMTEP3_T16uzsakovas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
              nr: i,
              rengejai: eval("req.body.tMTEP3_T16autorius" + i),
              pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
            })
          }
        } // 17 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
            eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          }
        } // 18 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          if (eval("req.body.tMTEP3_T07atlikejas" + i) != "" || eval("req.body.tMTEP3_T07menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T07pavadinimas" + i) != "" || eval("req.body.tMTEP3_T07atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T07data" + i) != "" || eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          }
        } // 19 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          if (eval("req.body.tMTEP3_T08atlikejas" + i) != "" || eval("req.body.tMTEP3_T08menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T08pavadinimas" + i) != "" || eval("req.body.tMTEP3_T08atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T08data" + i) != "" || eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          }
        } // 20 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          if (eval("req.body.tMTEP3_T09atlikejas" + i) != "" || eval("req.body.tMTEP3_T09menoSrit" + i) != "" ||
            eval("req.body.tMTEP3_T09pavadinimas" + i) != "" || eval("req.body.tMTEP3_T09atlikVieta" + i) != "" ||
            eval("req.body.tMTEP3_T09data" + i) != "" || eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
              nr: i,
              atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          }
        } // 21 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          if (eval("req.body.tMTEP3_T10destytojas" + i) != "" || eval("req.body.tMTEP3_T10veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T10dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T10dalyvSk" + i) != "" || eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          }
        } // 22 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          if (eval("req.body.tMTEP3_T11destytojas" + i) != "" || eval("req.body.tMTEP3_T11veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" || eval("req.body.tMTEP3_T11dataVieta" + i) != "" ||
            eval("req.body.tMTEP3_T11dalyvSk" + i) != "" || eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" ||
            eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          }
        } // 23 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          if (eval("req.body.tMTEP3_T12destytojas" + i) != "" || eval("req.body.tMTEP3_T12veiklPobud" + i) != "" ||
            eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          }
        } // 24 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          if (eval("req.body.tMTEP3_T14destytojas" + i) != "" || eval("req.body.tMTEP3_T14renginys" + i) != "" ||
            eval("req.body.tMTEP3_T14veiklPobud" + i) != "" || eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          }
        } // 25 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          if (eval("req.body.tMTEP3_T13destytojas" + i) != "" || eval("req.body.tMTEP3_T13studDuom" + i) != "" ||
            eval("req.body.tMTEP3_T13renginioPavad" + i) != "" || eval("req.body.tMTEP3_T13rezultatas" + i) != "" ||
            eval("req.body.tMTEP3_T13data" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
              nr: i,
              destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
        } // 26 lentelė submit-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          if (eval("req.body.kTOV4_KV01mokymosiKomppavad" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          if (eval("req.body.kTOV4_KV01tyrimuKomppavad" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          if (eval("req.body.kTOV4_KV01bendrKomppavad" + i) != "" || eval("req.body.kTOV4_KV01bendrKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01bendrKompdalyvis" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          if (eval("req.body.kTOV4_KV01dalykKomppavad" + i) != "" || eval("req.body.kTOV4_KV01dalykKomppazymNr" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i) != "" || eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i) != "" ||
            eval("req.body.kTOV4_KV01dalykKompdalyvis" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
              pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
              destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
            })
          }
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4
        // bendros val.
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lentelė
          //mokymosi
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal

        // 27 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          if (eval("req.body.lent27_renginysTema" + i) != "" || eval("req.body.lent27_kompGrupe" + i) != "" ||
            eval("req.body.lent27_skirta" + i) != "" || eval("req.body.lent27_lektorius" + i) != "" ||
            eval("req.body.lent27_lektTipas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27.push({
              nr: i,
              renginysTema: eval("req.body.lent27_renginysTema" + i),
              kompGrupe: eval("req.body.lent27_kompGrupe" + i),
              skirta: eval("req.body.lent27_skirta" + i),
              lektorius: eval("req.body.lent27_lektorius" + i),
              lektTipas: eval("req.body.lent27_lektTipas" + i)
            })
          }
        } // 28 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          if (eval("req.body.lent28_destytojas" + i) != "" || eval("req.body.lent28_imonIstaig" + i) != "" ||
            eval("req.body.lent28_kompGrupe" + i) != "" || eval("req.body.lent28_trukmeVal" + i) != "" ||
            eval("req.body.lent28_data" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28.push({
              nr: i,
              destytojas: eval("req.body.lent28_destytojas" + i),
              imonIstaig: eval("req.body.lent28_imonIstaig" + i),
              kompGrupe: eval("req.body.lent28_kompGrupe" + i),
              trukmeVal: eval("req.body.lent28_trukmeVal" + i),
              data: eval("req.body.lent28_data" + i)
            })
          }
        } // 29 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          if (eval("req.body.kTOV4_KV03destytojas" + i) != "" || eval("req.body.kTOV4_KV03studKryptis" + i) != "" ||
            eval("req.body.kTOV4_KV03salis" + i) != "" || eval("req.body.kTOV4_KV03institucija" + i) != "" ||
            eval("req.body.kTOV4_KV03dalykas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          }
        } // 30 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          if (eval("req.body.lent30_destytojas" + i) != "" || eval("req.body.lent30_studKryptis" + i) != "" ||
            eval("req.body.lent30_salis" + i) != "" || eval("req.body.lent30_institucija" + i) != "" ||
            eval("req.body.lent30_dalykas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30.push({
              nr: i,
              destytojas: eval("req.body.lent30_destytojas" + i),
              studKryptis: eval("req.body.lent30_studKryptis" + i),
              salis: eval("req.body.lent30_salis" + i),
              institucija: eval("req.body.lent30_institucija" + i),
              dalykas: eval("req.body.lent30_dalykas" + i)
            })
          }
        } // 31 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          if (eval("req.body.kTOV4_O01_1destytojas" + i) != "" || eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          }
        } // 31 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
            eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          }
        } // savianalizė submit-dep
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          }
        } // 32 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          if (eval("req.body.lent32_studKryptis" + i) != "" || eval("req.body.lent32_studProgr" + i) != "" ||
            eval("req.body.lent32_strategPartner" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32.push({
              nr: i,
              studKryptis: eval("req.body.lent32_studKryptis" + i),
              studProgr: eval("req.body.lent32_studProgr" + i),
              strategPartner: eval("req.body.lent32_strategPartner" + i)
            })
          }
        } // 33 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          if (eval("req.body.lent33_veikla" + i) != "" || eval("req.body.lent33_socPartneris" + i) != "" ||
            eval("req.body.lent33_destytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33.push({
              nr: i,
              veikla: eval("req.body.lent33_veikla" + i),
              socPartneris: eval("req.body.lent33_socPartneris" + i),
              destytojas: eval("req.body.lent33_destytojas" + i)
            })
          }
        } // 34 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          if (eval("req.body.lent34_studKryptis" + i) != "" || eval("req.body.lent34_studProgr" + i) != "" ||
            eval("req.body.lent34_studentuSk1_" + i) != "" || eval("req.body.lent34_studentuSk2_" + i) != "" ||
            eval("req.body.lent34_studentuSk3_" + i) != "" || eval("req.body.lent34_studentuSk4_" + i) != "" ||
            eval("req.body.lent34_studentuSk5_" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34.push({
              nr: i,
              studKryptis: eval("req.body.lent34_studKryptis" + i),
              studProgr: eval("req.body.lent34_studProgr" + i),
              studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
            })
          }
        } // 35 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          if (eval("req.body.lent35_studKryptis" + i) != "" || eval("req.body.lent35_studProgr" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr1_" + i) != "" || eval("req.body.lent35_studentuSk1_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr2_" + i) != "" || eval("req.body.lent35_studentuSk2_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr3_" + i) != "" || eval("req.body.lent35_studentuSk3_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr4_" + i) != "" || eval("req.body.lent35_studentuSk4_" + i) != "" ||
            eval("req.body.lent35_studentuSkBendr5_" + i) != "" || eval("req.body.lent35_studentuSk5_" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35.push({
              nr: i,
              studKryptis: eval("req.body.lent35_studKryptis" + i),
              studProgr: eval("req.body.lent35_studProgr" + i),
              studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
              pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
              studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
              pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
              studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
              pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
              studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
              pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
              studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
              pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
            })
          }
        } // 36 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02studProgr" + i) != "" ||
            eval("req.body.kV5_KT02diplomantas" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          }
        } // 37 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01studProgr" + i) != "" ||
            eval("req.body.kV5_KT01diplomantas" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
            eval("req.body.kV5_KT01uzsakovas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
        } // 38 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          if (eval("req.body.lent38_pavadinimas" + i) != "" || eval("req.body.lent38_vykdytPartner" + i) != "" ||
            eval("req.body.lent38_dalyviai" + i) != "" || eval("req.body.lent38_finansavim" + i) != "" ||
            eval("req.body.lent38_rezultatai" + i) != "" || eval("req.body.lent38_salisData" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38.push({
              nr: i,
              pavadinimas: eval("req.body.lent38_pavadinimas" + i),
              vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
              dalyviai: eval("req.body.lent38_dalyviai" + i),
              finansavim: eval("req.body.lent38_finansavim" + i),
              rezultatai: eval("req.body.lent38_rezultatai" + i),
              salisData: eval("req.body.lent38_salisData" + i)
            })
          }
        } // 39 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          if (eval("req.body.lent39_kryptys" + i) != "" || eval("req.body.lent39_aprasymas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39.push({
              nr: i,
              kryptys: eval("req.body.lent39_kryptys" + i),
              aprasymas: eval("req.body.lent39_aprasymas" + i)
            })
          }
        } // 40 lentelė submit-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          if (eval("req.body.lent40_socaprasymas" + i) != "" || eval("req.body.lent40_socdestytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
              aprasymas: eval("req.body.lent40_socaprasymas" + i),
              destytojas: eval("req.body.lent40_socdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          if (eval("req.body.lent40_aplinkaprasymas" + i) != "" || eval("req.body.lent40_aplinkdestytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
              aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
              destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          if (eval("req.body.lent40_valstybaprasymas" + i) != "" || eval("req.body.lent40_valstybdestytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
              aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
              destytojas: eval("req.body.lent40_valstybdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          if (eval("req.body.lent40_etnoaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
              aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 40 lentelė submit-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          if (eval("req.body.lent40_savaprasymas" + i) != "" || eval("req.body.lent40_savdestytojas" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
              aprasymas: eval("req.body.lent40_savaprasymas" + i),
              destytojas: eval("req.body.lent40_savdestytojas" + i)
            })
          }
        } // 41 lentelė submit-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          if (eval("req.body.lent41_veikla" + i) != "" || eval("req.body.lent41_veiklPartner" + i) != "" ||
            eval("req.body.lent41_organizac" + i) != "" || eval("req.body.lent41_veiklOrientavim" + i) != "" ||
            eval("req.body.lent41_dalyviai" + i) != "" || eval("req.body.lent41_laikas" + i) != "" ||
            eval("req.body.lent41_vieta" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41.push({
              nr: i,
              veikla: eval("req.body.lent41_veikla" + i),
              veiklPartner: eval("req.body.lent41_veiklPartner" + i),
              organizac: eval("req.body.lent41_organizac" + i),
              veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
              dalyviai: eval("req.body.lent41_dalyviai" + i),
              laikas: eval("req.body.lent41_laikas" + i),
              vieta: eval("req.body.lent41_vieta" + i)
            })
          }
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          if (eval("req.body.veiklSavianalizStiprybes" + i) != "" || eval("req.body.veiklSavianalizTobulintina" + i) != "") {
            foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
              stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
              tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
            })
          }
        }
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
          foundUser.mm2025_2026.katedrosVedejas.ataskaitosPateikimoData = req.body.ataskaitosPateikimoData,
          foundUser.busenaVedejo25_26 = req.body.ataskaitos_busena,
          foundUser.updated_for = req.user.username,
          foundUser.mm2025_2026.katedrosVedejas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully submitted");
            res.redirect("/user-window-2025-2026");
          }
        });
      } else {
        console.log("User does'f found");
      }
    }
  });
});


app.get("/logout", function(req, res) {

  User.findById(req.user.id, function(err, foundUser) {
    if (err) {
      console.log("err1");
      console.log(err);

      res.redirect('/login');
    } else {
      var a = req.user.username;
      foundUser.updated_for = "Atsijungimas" + " " + a;
      foundUser.save(function(err) {
        if (err) {
          console.log("err2");
          console.log(err);

        }
      });
    }
    req.logout();
  });
  console.log("Logout ivykdytas");
  res.redirect('/');
});

app.get("/user-window", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        //console.log("Error...");
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          console.log("user-window nepraleidžia");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.post("/update-user", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser) {
          foundUser.vardas = req.body.vardas,
            foundUser.pavarde = req.body.pavarde,
            foundUser.updated_for = req.user.username

          foundUser.save(function(err) {
            if (!err) {
              console.log("Dėstytojas info succesfully updated ");
              if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
                res.redirect("/user-window");
              } else {
                res.redirect("/login");
              }
            } else {
              console.log(err);
            }
          });

        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.get("/user-window-selection", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window-selection", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          res.redirect("/login");
        }
      }
      catch (err)
      {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.post("/update-user-window-selection-role", function(req, res) {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser) {
          foundUser.role = req.body.role,
            foundUser.updated_for = req.user.username

          foundUser.save(function(err) {
            if (!err) {
              res.redirect("/user-window");
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
      catch (err) {
    console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.get("/2022-2023/user-window", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window-2022-2023", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2023-2024/user-window", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window-2023-2024", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          console.log("user-window nepraleidžia");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2024-2025/user-window", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window-2024-2025", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          console.log("user-window nepraleidžia");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/2025-2026/user-window", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "dėstytojas" || foundUser.role === "katedros vedėjas") {
          res.render("user-window-2025-2026", {
            user: foundUser
          });
        } else {
          console.log("You don't have permission");
          console.log("user-window nepraleidžia");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
//Katedros vedėjas atnaujina dėstytojų sk. info profilyje
app.post("/update-user-dep-2022-2023", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser) {
          //foundUser.katedra = req.body.katedra,
          //foundUser.fakultetas = req.body.fakultetas,
          foundUser.mm2022_2023.katedrosVedejas.katedrosDestytojuSk = req.body.katedrosDestytojuSkaicius,
            foundUser.updated_for = req.user.username
          foundUser.save(function(err) {
            if (!err) {
              if (foundUser.role === "katedros vedėjas") {
                res.redirect("/2022-2023/user-window");
              } else {
                res.redirect("/login");
              }
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.post("/update-user-dep-2023-2024", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser) {
          //foundUser.katedra = req.body.katedra,
          //foundUser.fakultetas = req.body.fakultetas,
          foundUser.mm2023_2024.katedrosVedejas.katedrosDestytojuSk = req.body.katedrosDestytojuSkaicius,
            foundUser.updated_for = req.user.username
          foundUser.save(function(err) {
            if (!err) {
              if (foundUser.role === "katedros vedėjas") {
                //console.log("vedejas");
                res.redirect("/2023-2024/user-window");
              } else {
                res.redirect("/login");
              }
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.post("/update-user-dep-2024-2025", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser) {
          //foundUser.katedra = req.body.katedra,
          //foundUser.fakultetas = req.body.fakultetas,
          foundUser.mm2024_2025.katedrosVedejas.katedrosDestytojuSk = req.body.katedrosDestytojuSkaicius,
            foundUser.updated_for = req.user.username
          foundUser.save(function(err) {
            if (!err) {
              if (foundUser.role === "katedros vedėjas") {
                //console.log("vedejas");
                res.redirect("/2024-2025/user-window");
              } else {
                res.redirect("/login");
              }
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.post("/update-user-dep-2025-2026", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser) {
          //foundUser.katedra = req.body.katedra,
          //foundUser.fakultetas = req.body.fakultetas,
          foundUser.mm2025_2026.katedrosVedejas.katedrosDestytojuSk = req.body.katedrosDestytojuSkaicius,
            foundUser.updated_for = req.user.username
          foundUser.save(function(err) {
            if (!err) {
              if (foundUser.role === "katedros vedėjas") {
                //console.log("vedejas");
                res.redirect("/2025-2026/user-window");
              } else {
                res.redirect("/login");
              }
            } else {
              console.log(err);
            }
          });
        } else {
          console.log("User does'f found");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
//-----------------Head of the DEPARTMENT------------------------------------
app.get("/department/2022-2023/lecturers-list", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let vedejoKatedra;
      if (req.user.katedra === "") {
        vedejoKatedra = "nepriskirta";
      } else {
        vedejoKatedra = req.user.katedra
      }
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          User.find({
            katedra: vedejoKatedra,
          }, function(err, users) {
            if (err) {
              console.log(err);
            } else {
              res.render("dep-lecturers-list-2022-2023", {
                users: users,
                depUser: foundUser
              });
            }
          });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/lecturers-list", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let vedejoKatedra;
      if (req.user.katedra === "") {
        vedejoKatedra = "nepriskirta";
      } else {
        vedejoKatedra = req.user.katedra
      }
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          User.find({
            katedra: vedejoKatedra,
          }, function(err, users) {
            if (err) {
              console.log(err);
            } else {
              res.render("dep-lecturers-list-2023-2024", {
                users: users,
                depUser: foundUser
              });
            }
          });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/lecturers-list", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let vedejoKatedra;
      if (req.user.katedra === "") {
        vedejoKatedra = "nepriskirta";
      } else {
        vedejoKatedra = req.user.katedra
      }
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          User.find({
            katedra: vedejoKatedra,
          }, function(err, users) {
            if (err) {
              console.log(err);
            } else {
              res.render("dep-lecturers-list-2024-2025", {
                users: users,
                depUser: foundUser
              });
            }
          });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/lecturers-list", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      let vedejoKatedra;
      if (req.user.katedra === "") {
        vedejoKatedra = "nepriskirta";
      } else {
        vedejoKatedra = req.user.katedra
      }
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          User.find({
            katedra: vedejoKatedra,
          }, function(err, users) {
            if (err) {
              console.log(err);
            } else {
              res.render("dep-lecturers-list-2025-2026", {
                users: users,
                depUser: foundUser
              });
            }
          });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.get("/department/2022-2023/edit-user/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("dep-edit-user-2022-2023", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/edit-user/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("dep-edit-user-2023-2024", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/edit-user/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("dep-edit-user-2024-2025", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/edit-user/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("dep-edit-user-2025-2026", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

//Katedros vedėjas atnaujina dėstytojo būseną
app.post("/update-user-info-dep-2022-2023", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.busena22_23 = req.body.busena,
          foundUser.updated_for = req.user.username
        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2022-2023/lecturers-list");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-user-info-dep-2023-2024", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.busena23_24 = req.body.busena,
          foundUser.updated_for = req.user.username
        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2023-2024/lecturers-list");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-user-info-dep-2024-2025", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.busena24_25 = req.body.busena,
          foundUser.updated_for = req.user.username
        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2024-2025/lecturers-list");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-user-info-dep-2025-2026", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.busena25_26 = req.body.busena,
          foundUser.updated_for = req.user.username
        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2025-2026/lecturers-list");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});

app.get("/department/2022-2023/edit-lecturer-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              let currentUserFaculty = foundUser.fakultetas;
              if (err) {
                console.log(err);
              } else {
                Faculty.findOne({
                  username: currentUserFaculty
                }, function(err, foundFaculty) {
                  if (err) {
                    console.log(err);
                  } else {
                    res.render("dep-lecturer-report-2022-2023", {
                      foundFaculty: foundFaculty,
                      user: user,
                      fakultetasUpper: _.toUpper(user.fakultetas),
                      katedraUpper: _.toUpper(user.katedra),
                      vardasUpper: _.toUpper(foundUser.vardas),
                      pavardeUpper: _.toUpper(foundUser.pavarde)
                    });
                  }
                });

              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2023-2024/edit-lecturer-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              let currentUserFaculty = foundUser.fakultetas;
              if (err) {
                console.log(err);
              } else {
                Faculty.findOne({
                  username: currentUserFaculty
                }, function(err, foundFaculty) {
                  if (err) {
                    console.log(err);
                  } else {
                    res.render("dep-lecturer-report-2023-2024", {
                      foundFaculty: foundFaculty,
                      user: user,
                      fakultetasUpper: _.toUpper(user.fakultetas),
                      katedraUpper: _.toUpper(user.katedra),
                      vardasUpper: _.toUpper(foundUser.vardas),
                      pavardeUpper: _.toUpper(foundUser.pavarde)
                    });
                  }
                });

              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2024-2025/edit-lecturer-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              let currentUserFaculty = foundUser.fakultetas;
              if (err) {
                console.log(err);
              } else {
                Faculty.findOne({
                  username: currentUserFaculty
                }, function(err, foundFaculty) {
                  if (err) {
                    console.log(err);
                  } else {
                    res.render("dep-lecturer-report-2024-2025", {
                      foundFaculty: foundFaculty,
                      user: user,
                      fakultetasUpper: _.toUpper(user.fakultetas),
                      katedraUpper: _.toUpper(user.katedra),
                      vardasUpper: _.toUpper(foundUser.vardas),
                      pavardeUpper: _.toUpper(foundUser.pavarde)
                    });
                  }
                });

              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/department/2025-2026/edit-lecturer-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "katedros vedėjas") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              let currentUserFaculty = foundUser.fakultetas;
              if (err) {
                console.log(err);
              } else {
                Faculty.findOne({
                  username: currentUserFaculty
                }, function(err, foundFaculty) {
                  if (err) {
                    console.log(err);
                  } else {
                    res.render("dep-lecturer-report-2025-2026", {
                      foundFaculty: foundFaculty,
                      user: user,
                      fakultetasUpper: _.toUpper(user.fakultetas),
                      katedraUpper: _.toUpper(user.katedra),
                      vardasUpper: _.toUpper(foundUser.vardas),
                      pavardeUpper: _.toUpper(foundUser.pavarde)
                    });
                  }
                });

              }
            });
          } else {
            res.redirect("/user-window");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
// Katedros vedėjas atnaujina dėstytojo ataskaitą
app.post("/update-report-lecturer-dep-2022-2023", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M04 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2022_2023.destytojas.kTOV4_25 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_26 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_29 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_S = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT01 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2022_2023.destytojas.kV5_33 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_34 = new Array();

        if (req.body.ataskaitos_busena == "užrakinta") {
          // 1 lentelė  update-2022-2023
          foundUser.mm2022_2023.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2022_2023.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2022_2023.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2022_2023.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2022_2023.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2022_2023.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2022_2023.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2022_2023.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2022_2023.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2022_2023.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2022_2023.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
          // 4 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2022_2023.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2022_2023.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2022_2023.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2022_2023.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2022_2023.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė  update-2022-2023
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2022_2023.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė  update-2022-2023
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2022_2023.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
          foundUser.mm2022_2023.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
          // vedėjas uzpildo update-report-lecturer-dep
          foundUser.mm2022_2023.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl
          // foundUser.mm2022_2023.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

          foundUser.mm2022_2023.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2022_2023.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena22_23 = req.body.ataskaitos_busena

        } else if (req.body.ataskaitos_busena == "užrakintaVedėjo") { //busena perduodama paspaudus mygtuka
          // 1 lentelė  submit-2022-2023
          foundUser.mm2022_2023.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2022_2023.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2022_2023.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2022_2023.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
              eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
              foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array.push({
                nr: i,
                dalykas: eval("req.body.dalykas" + i),
                grupe: eval("req.body.grupe" + i),
                semestras: eval("req.body.semestras" + i),
                planuotosVal: eval("req.body.planuotosVal" + i),
                atliktosVal: eval("req.body.atliktosVal" + i)
              })
            }
          }
          foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2022_2023.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2022_2023.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2022_2023.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2022_2023.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2022_2023.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2022_2023.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2022_2023.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2022_2023.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2022_2023.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
              eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_M02.push({
                nr: i,
                bibliografApr: eval("req.body.bibliografApr" + i),
                tipas: eval("req.body.tipas" + i),
                mokslSrit: eval("req.body.mokslSrit" + i),
                mokslKrypt: eval("req.body.mokslKrypt" + i)
              })
            }
          } // 4 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
              eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_M04.push({
                nr: i,
                studProgr: eval("req.body.nD2_M04studProgr" + i),
                dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
                busena: eval("req.body.nD2_M04busena" + i),
                apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
              })
            }
          } // 5 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
              eval("req.body.nD2_D01rezultatai" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_D01.push({
                nr: i,
                komitetas: eval("req.body.nD2_D01komitetas" + i),
                veikla: eval("req.body.nD2_D01veikla" + i),
                rezultatai: eval("req.body.nD2_D01rezultatai" + i)
              })
            }
          } // 6 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
              eval("req.body.nD2_D02rezultatai" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_D02.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D02studKrypt" + i),
                veikla: eval("req.body.nD2_D02veikla" + i),
                rezultatai: eval("req.body.nD2_D02rezultatai" + i)
              })
            }
          } // 7 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
              eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_D03.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D03studKryptis" + i),
                studProgr: eval("req.body.nD2_D03studProgr" + i),
                veikla: eval("req.body.nD2_D03veikla" + i),
                rezultatai: eval("req.body.nD2_D03rezultatai" + i)
              })
            }
          } // 8 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
              eval("req.body.nD2_M03apimtisKredit" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_M03.push({
                nr: i,
                studProgr: eval("req.body.nD2_M03studProgr" + i),
                dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
                apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
              })
            }
          } // 9 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_S01.push({
                nr: i,
                veikla: eval("req.body.nD2_S01veikla" + i),
                dataVieta: eval("req.body.nD2_S01dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
              foundUser.mm2022_2023.destytojas.nD2_S.push({
                nr: i,
                stiprybes: eval("req.body.nD2_Sstiprybes" + i),
                tobulintina: eval("req.body.nD2_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2022_2023.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

          // 10 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
              eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T01.push({
                nr: i,
                tyrTemat: eval("req.body.tyrTemat" + i),
                tyrGrup: eval("req.body.tyrGrup" + i),
                mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
              })
            }
          } // 11 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
              eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
              eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T02.push({
                nr: i,
                bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
                tipas: eval("req.body.tMTEP3_T02tipas" + i),
                mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
                duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
              })
            }
          } // 12 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T03.push({
                nr: i,
                pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
                rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
              })
            }
          } // 13 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
              eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T04.push({
                nr: i,
                uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
                tema: eval("req.body.tMTEP3_T04tema" + i),
                data: eval("req.body.tMTEP3_T04data" + i),
                atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
              })
            }
          } // 14.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
              eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T05.push({
                nr: i,
                veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
                veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
                atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
              })
            }
          } // 14.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_142.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
                pastabos: eval("req.body.tMTEP3_142pastabos" + i)
              })
            }
          } // 14.3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_143.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
                uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
              })
            }
          } // 15 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
              eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
              eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T06.push({
                nr: i,
                autorius: eval("req.body.tMTEP3_T06autorius" + i),
                menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
                pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
                realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
                data: eval("req.body.tMTEP3_T06data" + i),
                atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
              })
            }
          } // 16 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
              eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T07.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
                data: eval("req.body.tMTEP3_T07data" + i),
                atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
              })
            }
          } // 17 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
              eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T08.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
                data: eval("req.body.tMTEP3_T08data" + i),
                atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
              })
            }
          } // 18 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
              eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T09.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
                data: eval("req.body.tMTEP3_T09data" + i),
                atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
              })
            }
          } // 19 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T10.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
              })
            }
          } // 20 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T11.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
              })
            }
          } // 21 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T12.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
              })
            }
          } // 22 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
              eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T13.push({
                nr: i,
                studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
                renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
                rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
                data: eval("req.body.tMTEP3_T13data" + i)
              })
            }
          } // 23 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
              eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_T14.push({
                nr: i,
                renginys: eval("req.body.tMTEP3_T14renginys" + i),
                veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
              foundUser.mm2022_2023.destytojas.tMTEP3_S.push({
                nr: i,
                stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
                tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2022_2023.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2022_2023.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2022_2023.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

          // 24 lentelė submit
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
              eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
                pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
                pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
              })
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
            }
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
              eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
                pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
                pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
              })
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
            }
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
              eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
                pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
                pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
              })
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
            }
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
              eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
                pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
                pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
              })
              foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
            }
          }
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_25skirta" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_25.push({
                nr: i,
                renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
                kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
                skirta: eval("req.body.kTOV4_25skirta" + i)
              })
            }
          } // 26 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_26.push({
                nr: i,
                imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
                kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
                trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
                data: eval("req.body.kTOV4_26data" + i)
              })
            }
          } // 27 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
              eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_KV03.push({
                nr: i,
                studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
                salis: eval("req.body.kTOV4_KV03salis" + i),
                institucija: eval("req.body.kTOV4_KV03institucija" + i),
                dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
              })
            }
          } // 28.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1.push({
                nr: i,
                veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
                isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
              })
            }
          } // 28.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
              eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2.push({
                nr: i,
                destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
                veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
                dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
                ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
              })
            }
          } // 29 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_29.push({
                nr: i,
                veikla: eval("req.body.kTOV4_29veikla" + i),
                socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
              })
            }
          } // savianalize lentelė submit
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
              foundUser.mm2022_2023.destytojas.kTOV4_S.push({
                nr: i,
                stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
                tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
              })
            }
          } // 30 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
              eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_KT02.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
                studProgr: eval("req.body.kV5_KT02studProgr" + i),
                darboTema: eval("req.body.kV5_KT02darboTema" + i)
              })
            }
          } // 31 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
              eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
              eval("req.body.kV5_KT01uzsakovas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_KT01.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
                studProgr: eval("req.body.kV5_KT01studProgr" + i),
                darboTema: eval("req.body.kV5_KT01darboTema" + i),
                uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
              })
            }
          }
          // 32 table submit
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            if (eval("req.body.kV5_32socaprasymas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz.push({
                aprasymas: eval("req.body.kV5_32socaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic.push({
                aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel.push({
                aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos.push({
                aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            if (eval("req.body.kV5_32savaprasymas" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv.push({
                aprasymas: eval("req.body.kV5_32savaprasymas" + i)
              })
            }
          } // 33 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
              eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
              eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
              eval("req.body.kV5_33vieta" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_33.push({
                nr: i,
                veikla: eval("req.body.kV5_33veikla" + i),
                veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
                organizac: eval("req.body.kV5_33organizac" + i),
                veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
                dalyviai: eval("req.body.kV5_33dalyviai" + i),
                laikas: eval("req.body.kV5_33laikas" + i),
                vieta: eval("req.body.kV5_33vieta" + i)
              })
            }
          } // 34 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
              eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
              eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
              foundUser.mm2022_2023.destytojas.kV5_34.push({
                nr: i,
                pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
                vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
                dalyviai: eval("req.body.kV5_34dalyviai" + i),
                finansavim: eval("req.body.kV5_34finansavim" + i),
                rezultatai: eval("req.body.kV5_34rezultatai" + i),
                salisData: eval("req.body.kV5_34salisData" + i)
              })
            }
          }
          foundUser.mm2022_2023.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,

            // vedėjas uzpildo update-report-lecturer-dep
            foundUser.mm2022_2023.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,

            foundUser.mm2022_2023.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2022_2023.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena22_23 = req.body.ataskaitos_busena,

            foundUser.mm2022_2023.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        } //"užrakintaVedėjo"
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2022-2023/lecturers-list");
          } else {
            console.log(err);
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lecturer-dep-2023-2024", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M04 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2023_2024.destytojas.kTOV4_25 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_26 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_29 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_S = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT01 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2023_2024.destytojas.kV5_33 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_34 = new Array();

        if (req.body.ataskaitos_busena == "užrakinta") {
          // 1 lentelė  update-2023-2024
          foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
          // 4 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2023_2024.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė  update-2023-2024
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2023_2024.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė  update-2023-2024
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2023_2024.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
          foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
          // vedėjas uzpildo update-report-lecturer-dep
          foundUser.mm2023_2024.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,
            // foundUser.mm2023_2024.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

            foundUser.mm2023_2024.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2023_2024.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena23_24 = req.body.ataskaitos_busena

        } else if (req.body.ataskaitos_busena == "užrakintaVedėjo") { //busena perduodama paspaudus mygtuka
          // 1 lentelė  submit-2023-2024
          foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
              eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
              foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
                nr: i,
                dalykas: eval("req.body.dalykas" + i),
                grupe: eval("req.body.grupe" + i),
                semestras: eval("req.body.semestras" + i),
                planuotosVal: eval("req.body.planuotosVal" + i),
                atliktosVal: eval("req.body.atliktosVal" + i)
              })
            }
          }
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
              eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_M02.push({
                nr: i,
                bibliografApr: eval("req.body.bibliografApr" + i),
                tipas: eval("req.body.tipas" + i),
                mokslSrit: eval("req.body.mokslSrit" + i),
                mokslKrypt: eval("req.body.mokslKrypt" + i)
              })
            }
          } // 4 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
              eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_M04.push({
                nr: i,
                studProgr: eval("req.body.nD2_M04studProgr" + i),
                dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
                busena: eval("req.body.nD2_M04busena" + i),
                apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
              })
            }
          } // 5 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
              eval("req.body.nD2_D01rezultatai" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_D01.push({
                nr: i,
                komitetas: eval("req.body.nD2_D01komitetas" + i),
                veikla: eval("req.body.nD2_D01veikla" + i),
                rezultatai: eval("req.body.nD2_D01rezultatai" + i)
              })
            }
          } // 6 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
              eval("req.body.nD2_D02rezultatai" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_D02.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D02studKrypt" + i),
                veikla: eval("req.body.nD2_D02veikla" + i),
                rezultatai: eval("req.body.nD2_D02rezultatai" + i)
              })
            }
          } // 7 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
              eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_D03.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D03studKryptis" + i),
                studProgr: eval("req.body.nD2_D03studProgr" + i),
                veikla: eval("req.body.nD2_D03veikla" + i),
                rezultatai: eval("req.body.nD2_D03rezultatai" + i)
              })
            }
          } // 8 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
              eval("req.body.nD2_M03apimtisKredit" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_M03.push({
                nr: i,
                studProgr: eval("req.body.nD2_M03studProgr" + i),
                dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
                apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
              })
            }
          } // 9 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_S01.push({
                nr: i,
                veikla: eval("req.body.nD2_S01veikla" + i),
                dataVieta: eval("req.body.nD2_S01dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
              foundUser.mm2023_2024.destytojas.nD2_S.push({
                nr: i,
                stiprybes: eval("req.body.nD2_Sstiprybes" + i),
                tobulintina: eval("req.body.nD2_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

          // 10 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
              eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
                nr: i,
                tyrTemat: eval("req.body.tyrTemat" + i),
                tyrGrup: eval("req.body.tyrGrup" + i),
                mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
              })
            }
          } // 11 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
              eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
              eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
                nr: i,
                bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
                tipas: eval("req.body.tMTEP3_T02tipas" + i),
                mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
                duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
              })
            }
          } // 12 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
                nr: i,
                pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
                rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
              })
            }
          } // 13 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
              eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
                nr: i,
                uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
                tema: eval("req.body.tMTEP3_T04tema" + i),
                data: eval("req.body.tMTEP3_T04data" + i),
                atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
              })
            }
          } // 14.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
              eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
                nr: i,
                veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
                veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
                atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
              })
            }
          } // 14.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
                pastabos: eval("req.body.tMTEP3_142pastabos" + i)
              })
            }
          } // 14.3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
                uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
              })
            }
          } // 15 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
              eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
              eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
                nr: i,
                autorius: eval("req.body.tMTEP3_T06autorius" + i),
                menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
                pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
                realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
                data: eval("req.body.tMTEP3_T06data" + i),
                atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
              })
            }
          } // 16 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
              eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
                data: eval("req.body.tMTEP3_T07data" + i),
                atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
              })
            }
          } // 17 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
              eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
                data: eval("req.body.tMTEP3_T08data" + i),
                atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
              })
            }
          } // 18 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
              eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
                data: eval("req.body.tMTEP3_T09data" + i),
                atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
              })
            }
          } // 19 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
              })
            }
          } // 20 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
              })
            }
          } // 21 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
              })
            }
          } // 22 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
              eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
                nr: i,
                studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
                renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
                rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
                data: eval("req.body.tMTEP3_T13data" + i)
              })
            }
          } // 23 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
              eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
                nr: i,
                renginys: eval("req.body.tMTEP3_T14renginys" + i),
                veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
              foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
                nr: i,
                stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
                tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

          // 24 lentelė submit
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
              eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
                pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
                pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
              })
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
            }
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
              eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
                pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
                pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
              })
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
            }
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
              eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
                pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
                pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
              })
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
            }
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
              eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
                pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
                pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
              })
              foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
            }
          }
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_25skirta" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_25.push({
                nr: i,
                renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
                kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
                skirta: eval("req.body.kTOV4_25skirta" + i)
              })
            }
          } // 26 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_26.push({
                nr: i,
                imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
                kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
                trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
                data: eval("req.body.kTOV4_26data" + i)
              })
            }
          } // 27 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
              eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
                nr: i,
                studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
                salis: eval("req.body.kTOV4_KV03salis" + i),
                institucija: eval("req.body.kTOV4_KV03institucija" + i),
                dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
              })
            }
          } // 28.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
                nr: i,
                veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
                isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
              })
            }
          } // 28.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
              eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
                nr: i,
                destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
                veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
                dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
                ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
              })
            }
          } // 29 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_29.push({
                nr: i,
                veikla: eval("req.body.kTOV4_29veikla" + i),
                socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
              })
            }
          } // savianalize lentelė submit
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
              foundUser.mm2023_2024.destytojas.kTOV4_S.push({
                nr: i,
                stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
                tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
              })
            }
          } // 30 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
              eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_KT02.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
                studProgr: eval("req.body.kV5_KT02studProgr" + i),
                darboTema: eval("req.body.kV5_KT02darboTema" + i)
              })
            }
          } // 31 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
              eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
              eval("req.body.kV5_KT01uzsakovas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_KT01.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
                studProgr: eval("req.body.kV5_KT01studProgr" + i),
                darboTema: eval("req.body.kV5_KT01darboTema" + i),
                uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
              })
            }
          }
          // 32 table submit
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            if (eval("req.body.kV5_32socaprasymas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
                aprasymas: eval("req.body.kV5_32socaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
                aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
                aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
                aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            if (eval("req.body.kV5_32savaprasymas" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
                aprasymas: eval("req.body.kV5_32savaprasymas" + i)
              })
            }
          } // 33 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
              eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
              eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
              eval("req.body.kV5_33vieta" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_33.push({
                nr: i,
                veikla: eval("req.body.kV5_33veikla" + i),
                veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
                organizac: eval("req.body.kV5_33organizac" + i),
                veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
                dalyviai: eval("req.body.kV5_33dalyviai" + i),
                laikas: eval("req.body.kV5_33laikas" + i),
                vieta: eval("req.body.kV5_33vieta" + i)
              })
            }
          } // 34 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
              eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
              eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
              foundUser.mm2023_2024.destytojas.kV5_34.push({
                nr: i,
                pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
                vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
                dalyviai: eval("req.body.kV5_34dalyviai" + i),
                finansavim: eval("req.body.kV5_34finansavim" + i),
                rezultatai: eval("req.body.kV5_34rezultatai" + i),
                salisData: eval("req.body.kV5_34salisData" + i)
              })
            }
          }
          foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,

            // vedėjas uzpildo update-report-lecturer-dep
            foundUser.mm2023_2024.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,

            foundUser.mm2023_2024.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2023_2024.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena23_24 = req.body.ataskaitos_busena,
            foundUser.mm2023_2024.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        } //"užrakintaVedėjo"
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2023-2024/lecturers-list");
          } else {
            console.log(err);
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lecturer-dep-2024-2025", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M04 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2024_2025.destytojas.kTOV4_25 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_26 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_29 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_S = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT01 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2024_2025.destytojas.kV5_33 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_34 = new Array();

        if (req.body.ataskaitos_busena == "užrakinta") {
          // 1 lentelė  update-2024-2025
          foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
          // 4 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2024_2025.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė  update-2024-2025
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2024_2025.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė  update-2024-2025
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2024_2025.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
          foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
          // vedėjas uzpildo update-report-lecturer-dep
          foundUser.mm2024_2025.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,
            // foundUser.mm2024_2025.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

            foundUser.mm2024_2025.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2024_2025.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena24_25 = req.body.ataskaitos_busena

        } else if (req.body.ataskaitos_busena == "užrakintaVedėjo") { //busena perduodama paspaudus mygtuka
          // 1 lentelė  submit-2024-2025
          foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
              eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
              foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
                nr: i,
                dalykas: eval("req.body.dalykas" + i),
                grupe: eval("req.body.grupe" + i),
                semestras: eval("req.body.semestras" + i),
                planuotosVal: eval("req.body.planuotosVal" + i),
                atliktosVal: eval("req.body.atliktosVal" + i)
              })
            }
          }
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
              eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_M02.push({
                nr: i,
                bibliografApr: eval("req.body.bibliografApr" + i),
                tipas: eval("req.body.tipas" + i),
                mokslSrit: eval("req.body.mokslSrit" + i),
                mokslKrypt: eval("req.body.mokslKrypt" + i)
              })
            }
          } // 4 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
              eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_M04.push({
                nr: i,
                studProgr: eval("req.body.nD2_M04studProgr" + i),
                dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
                busena: eval("req.body.nD2_M04busena" + i),
                apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
              })
            }
          } // 5 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
              eval("req.body.nD2_D01rezultatai" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_D01.push({
                nr: i,
                komitetas: eval("req.body.nD2_D01komitetas" + i),
                veikla: eval("req.body.nD2_D01veikla" + i),
                rezultatai: eval("req.body.nD2_D01rezultatai" + i)
              })
            }
          } // 6 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
              eval("req.body.nD2_D02rezultatai" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_D02.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D02studKrypt" + i),
                veikla: eval("req.body.nD2_D02veikla" + i),
                rezultatai: eval("req.body.nD2_D02rezultatai" + i)
              })
            }
          } // 7 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
              eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_D03.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D03studKryptis" + i),
                studProgr: eval("req.body.nD2_D03studProgr" + i),
                veikla: eval("req.body.nD2_D03veikla" + i),
                rezultatai: eval("req.body.nD2_D03rezultatai" + i)
              })
            }
          } // 8 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
              eval("req.body.nD2_M03apimtisKredit" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_M03.push({
                nr: i,
                studProgr: eval("req.body.nD2_M03studProgr" + i),
                dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
                apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
              })
            }
          } // 9 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_S01.push({
                nr: i,
                veikla: eval("req.body.nD2_S01veikla" + i),
                dataVieta: eval("req.body.nD2_S01dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
              foundUser.mm2024_2025.destytojas.nD2_S.push({
                nr: i,
                stiprybes: eval("req.body.nD2_Sstiprybes" + i),
                tobulintina: eval("req.body.nD2_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

          // 10 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
              eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
                nr: i,
                tyrTemat: eval("req.body.tyrTemat" + i),
                tyrGrup: eval("req.body.tyrGrup" + i),
                mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
              })
            }
          } // 11 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
              eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
              eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
                nr: i,
                bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
                tipas: eval("req.body.tMTEP3_T02tipas" + i),
                mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
                duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
              })
            }
          } // 12 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
                nr: i,
                pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
                rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
              })
            }
          } // 13 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
              eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
                nr: i,
                uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
                tema: eval("req.body.tMTEP3_T04tema" + i),
                data: eval("req.body.tMTEP3_T04data" + i),
                atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
              })
            }
          } // 14.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
              eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
                nr: i,
                veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
                veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
                atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
              })
            }
          } // 14.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
                pastabos: eval("req.body.tMTEP3_142pastabos" + i)
              })
            }
          } // 14.3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
                uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
              })
            }
          } // 15 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
              eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
              eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
                nr: i,
                autorius: eval("req.body.tMTEP3_T06autorius" + i),
                menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
                pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
                realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
                data: eval("req.body.tMTEP3_T06data" + i),
                atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
              })
            }
          } // 16 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
              eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
                data: eval("req.body.tMTEP3_T07data" + i),
                atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
              })
            }
          } // 17 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
              eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
                data: eval("req.body.tMTEP3_T08data" + i),
                atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
              })
            }
          } // 18 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
              eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
                data: eval("req.body.tMTEP3_T09data" + i),
                atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
              })
            }
          } // 19 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
              })
            }
          } // 20 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
              })
            }
          } // 21 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
              })
            }
          } // 22 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
              eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
                nr: i,
                studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
                renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
                rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
                data: eval("req.body.tMTEP3_T13data" + i)
              })
            }
          } // 23 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
              eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
                nr: i,
                renginys: eval("req.body.tMTEP3_T14renginys" + i),
                veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
              foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
                nr: i,
                stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
                tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

          // 24 lentelė submit
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
              eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
                pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
                pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
              })
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
            }
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
              eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
                pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
                pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
              })
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
            }
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
              eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
                pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
                pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
              })
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
            }
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
              eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
                pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
                pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
              })
              foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
            }
          }
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_25skirta" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_25.push({
                nr: i,
                renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
                kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
                skirta: eval("req.body.kTOV4_25skirta" + i)
              })
            }
          } // 26 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_26.push({
                nr: i,
                imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
                kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
                trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
                data: eval("req.body.kTOV4_26data" + i)
              })
            }
          } // 27 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
              eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
                nr: i,
                studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
                salis: eval("req.body.kTOV4_KV03salis" + i),
                institucija: eval("req.body.kTOV4_KV03institucija" + i),
                dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
              })
            }
          } // 28.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
                nr: i,
                veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
                isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
              })
            }
          } // 28.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
              eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
                nr: i,
                destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
                veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
                dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
                ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
              })
            }
          } // 29 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_29.push({
                nr: i,
                veikla: eval("req.body.kTOV4_29veikla" + i),
                socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
              })
            }
          } // savianalize lentelė submit
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
              foundUser.mm2024_2025.destytojas.kTOV4_S.push({
                nr: i,
                stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
                tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
              })
            }
          } // 30 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
              eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_KT02.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
                studProgr: eval("req.body.kV5_KT02studProgr" + i),
                darboTema: eval("req.body.kV5_KT02darboTema" + i)
              })
            }
          } // 31 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
              eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
              eval("req.body.kV5_KT01uzsakovas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_KT01.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
                studProgr: eval("req.body.kV5_KT01studProgr" + i),
                darboTema: eval("req.body.kV5_KT01darboTema" + i),
                uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
              })
            }
          }
          // 32 table submit
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            if (eval("req.body.kV5_32socaprasymas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
                aprasymas: eval("req.body.kV5_32socaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
                aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
                aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
                aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            if (eval("req.body.kV5_32savaprasymas" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
                aprasymas: eval("req.body.kV5_32savaprasymas" + i)
              })
            }
          } // 33 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
              eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
              eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
              eval("req.body.kV5_33vieta" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_33.push({
                nr: i,
                veikla: eval("req.body.kV5_33veikla" + i),
                veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
                organizac: eval("req.body.kV5_33organizac" + i),
                veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
                dalyviai: eval("req.body.kV5_33dalyviai" + i),
                laikas: eval("req.body.kV5_33laikas" + i),
                vieta: eval("req.body.kV5_33vieta" + i)
              })
            }
          } // 34 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
              eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
              eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
              foundUser.mm2024_2025.destytojas.kV5_34.push({
                nr: i,
                pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
                vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
                dalyviai: eval("req.body.kV5_34dalyviai" + i),
                finansavim: eval("req.body.kV5_34finansavim" + i),
                rezultatai: eval("req.body.kV5_34rezultatai" + i),
                salisData: eval("req.body.kV5_34salisData" + i)
              })
            }
          }
          foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,

            // vedėjas uzpildo update-report-lecturer-dep
            foundUser.mm2024_2025.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,

            foundUser.mm2024_2025.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2024_2025.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena24_25 = req.body.ataskaitos_busena,
            foundUser.mm2024_2025.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        } //"užrakintaVedėjo"
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2024-2025/lecturers-list");
          } else {
            console.log(err);
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lecturer-dep-2025-2026", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M04 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2025_2026.destytojas.kTOV4_25 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_26 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_29 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_S = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT01 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2025_2026.destytojas.kV5_33 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_34 = new Array();

        if (req.body.ataskaitos_busena == "užrakinta") {
          // 1 lentelė  update-2025-2026
          foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
              nr: i,
              dalykas: eval("req.body.dalykas" + i),
              grupe: eval("req.body.grupe" + i),
              semestras: eval("req.body.semestras" + i),
              planuotosVal: eval("req.body.planuotosVal" + i),
              atliktosVal: eval("req.body.atliktosVal" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M02.push({
              nr: i,
              bibliografApr: eval("req.body.bibliografApr" + i),
              tipas: eval("req.body.tipas" + i),
              mokslSrit: eval("req.body.mokslSrit" + i),
              mokslKrypt: eval("req.body.mokslKrypt" + i)
            })
          }
          // 4 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M04.push({
              nr: i,
              studProgr: eval("req.body.nD2_M04studProgr" + i),
              dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
              busena: eval("req.body.nD2_M04busena" + i),
              apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
            })
          } // 5 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D01.push({
              nr: i,
              komitetas: eval("req.body.nD2_D01komitetas" + i),
              veikla: eval("req.body.nD2_D01veikla" + i),
              rezultatai: eval("req.body.nD2_D01rezultatai" + i)
            })
          } // 6 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D02.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D02studKrypt" + i),
              veikla: eval("req.body.nD2_D02veikla" + i),
              rezultatai: eval("req.body.nD2_D02rezultatai" + i)
            })
          } // 7 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_D03.push({
              nr: i,
              studKryptis: eval("req.body.nD2_D03studKryptis" + i),
              studProgr: eval("req.body.nD2_D03studProgr" + i),
              veikla: eval("req.body.nD2_D03veikla" + i),
              rezultatai: eval("req.body.nD2_D03rezultatai" + i)
            })
          } // 8 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_M03.push({
              nr: i,
              studProgr: eval("req.body.nD2_M03studProgr" + i),
              dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
              apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
            })
          } // 9 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_S01.push({
              nr: i,
              veikla: eval("req.body.nD2_S01veikla" + i),
              dataVieta: eval("req.body.nD2_S01dataVieta" + i)
            })
          } // savianalize  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            foundUser.mm2025_2026.destytojas.nD2_S.push({
              nr: i,
              stiprybes: eval("req.body.nD2_Sstiprybes" + i),
              tobulintina: eval("req.body.nD2_Stobulintina" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
          // 10 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
              nr: i,
              tyrTemat: eval("req.body.tyrTemat" + i),
              tyrGrup: eval("req.body.tyrGrup" + i),
              mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
            })
          } // 11 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
              nr: i,
              bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
              tipas: eval("req.body.tMTEP3_T02tipas" + i),
              mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
              mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
              duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
            })
          } // 12 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
              nr: i,
              pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
              rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
            })
          } // 13 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
              nr: i,
              uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
              tema: eval("req.body.tMTEP3_T04tema" + i),
              data: eval("req.body.tMTEP3_T04data" + i),
              atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
            })
          } // 14.1 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
              nr: i,
              veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
              veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
              atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
            })
          } // 14.2 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
              pastabos: eval("req.body.tMTEP3_142pastabos" + i)
            })
          } // 14.3 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
              nr: i,
              pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
              uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
            })
          } // 15 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
              nr: i,
              autorius: eval("req.body.tMTEP3_T06autorius" + i),
              menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
              pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
              realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
              data: eval("req.body.tMTEP3_T06data" + i),
              atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
            })
          } // 16 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
              data: eval("req.body.tMTEP3_T07data" + i),
              atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
            })
          } // 17 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
              data: eval("req.body.tMTEP3_T08data" + i),
              atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
            })
          } // 18 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
              nr: i,
              menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
              pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
              atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
              data: eval("req.body.tMTEP3_T09data" + i),
              atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
            })
          } // 19 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
            })
          } // 20 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
              veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
              dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
              dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
              ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
              atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
            })
          } // 21 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
              nr: i,
              veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
            })
          } // 22 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
              nr: i,
              studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
              renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
              rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
              data: eval("req.body.tMTEP3_T13data" + i)
            })
          } // 23 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
              nr: i,
              renginys: eval("req.body.tMTEP3_T14renginys" + i),
              veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
              dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
              nr: i,
              stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
              tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
          // 24 lentelė  update-2025-2026
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
              pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
              pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
              pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
              pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
              pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
              pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
              pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
              pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
              trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
              trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
            })
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
          }
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_25.push({
              nr: i,
              renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
              kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
              skirta: eval("req.body.kTOV4_25skirta" + i)
            })
          } // 26 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_26.push({
              nr: i,
              imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
              kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
              trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
              data: eval("req.body.kTOV4_26data" + i)
            })
          } // 27 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
              nr: i,
              studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
              salis: eval("req.body.kTOV4_KV03salis" + i),
              institucija: eval("req.body.kTOV4_KV03institucija" + i),
              dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
            })
          } // 28.1 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
              nr: i,
              veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
              isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
            })
          } // 28.2 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
              nr: i,
              destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
              veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
              dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
              ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
            })
          } // 29 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_29.push({
              nr: i,
              veikla: eval("req.body.kTOV4_29veikla" + i),
              socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
            })
          } // savianalize
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            foundUser.mm2025_2026.destytojas.kTOV4_S.push({
              nr: i,
              stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
              tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
            })
          } // 30 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_KT02.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
              studProgr: eval("req.body.kV5_KT02studProgr" + i),
              darboTema: eval("req.body.kV5_KT02darboTema" + i)
            })
          } // 31 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_KT01.push({
              nr: i,
              studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
              diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
              studProgr: eval("req.body.kV5_KT01studProgr" + i),
              darboTema: eval("req.body.kV5_KT01darboTema" + i),
              uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
            })
          }
          // 32 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
              aprasymas: eval("req.body.kV5_32socaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
              aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
              aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
              aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
            })
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
              aprasymas: eval("req.body.kV5_32savaprasymas" + i)
            })
          } // 33 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_33.push({
              nr: i,
              veikla: eval("req.body.kV5_33veikla" + i),
              veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
              organizac: eval("req.body.kV5_33organizac" + i),
              veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
              dalyviai: eval("req.body.kV5_33dalyviai" + i),
              laikas: eval("req.body.kV5_33laikas" + i),
              vieta: eval("req.body.kV5_33vieta" + i)
            })
          } // 34 lentelė  update-2025-2026
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            foundUser.mm2025_2026.destytojas.kV5_34.push({
              nr: i,
              pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
              vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
              dalyviai: eval("req.body.kV5_34dalyviai" + i),
              finansavim: eval("req.body.kV5_34finansavim" + i),
              rezultatai: eval("req.body.kV5_34rezultatai" + i),
              salisData: eval("req.body.kV5_34salisData" + i)
            })
          }
          foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
          // vedėjas uzpildo update-report-lecturer-dep
          foundUser.mm2025_2026.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,
            // foundUser.mm2025_2026.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

            foundUser.mm2025_2026.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2025_2026.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena25_26 = req.body.ataskaitos_busena

        } else if (req.body.ataskaitos_busena == "užrakintaVedėjo") { //busena perduodama paspaudus mygtuka
          // 1 lentelė  submit-2025-2026
          foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
            foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
            foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
            foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
          // 2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
            if (eval("req.body.dalykas" + i) != "" || eval("req.body.grupe" + i) != "" || eval("req.body.semestras" + i) != "" ||
              eval("req.body.planuotosVal" + i) != "" || eval("req.body.atliktosVal" + i) != "") {
              foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
                nr: i,
                dalykas: eval("req.body.dalykas" + i),
                grupe: eval("req.body.grupe" + i),
                semestras: eval("req.body.semestras" + i),
                planuotosVal: eval("req.body.planuotosVal" + i),
                atliktosVal: eval("req.body.atliktosVal" + i)
              })
            }
          }
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
            foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
            foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
            foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
            foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
            foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
            foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
            foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
            foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
            foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
          // 3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
            if (eval("req.body.bibliografApr" + i) != "" || eval("req.body.tipas" + i) != "" ||
              eval("req.body.mokslSrit" + i) != "" || eval("req.body.mokslKrypt" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_M02.push({
                nr: i,
                bibliografApr: eval("req.body.bibliografApr" + i),
                tipas: eval("req.body.tipas" + i),
                mokslSrit: eval("req.body.mokslSrit" + i),
                mokslKrypt: eval("req.body.mokslKrypt" + i)
              })
            }
          } // 4 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
            if (eval("req.body.nD2_M04studProgr" + i) != "" || eval("req.body.nD2_M04dalykPavad" + i) != "" ||
              eval("req.body.nD2_M04busena" + i) != "" || eval("req.body.nD2_M04apimtisKredit" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_M04.push({
                nr: i,
                studProgr: eval("req.body.nD2_M04studProgr" + i),
                dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
                busena: eval("req.body.nD2_M04busena" + i),
                apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
              })
            }
          } // 5 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
            if (eval("req.body.nD2_D01komitetas" + i) != "" || eval("req.body.nD2_D01veikla" + i) != "" ||
              eval("req.body.nD2_D01rezultatai" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_D01.push({
                nr: i,
                komitetas: eval("req.body.nD2_D01komitetas" + i),
                veikla: eval("req.body.nD2_D01veikla" + i),
                rezultatai: eval("req.body.nD2_D01rezultatai" + i)
              })
            }
          } // 6 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
            if (eval("req.body.nD2_D02studKrypt" + i) != "" || eval("req.body.nD2_D02veikla" + i) != "" ||
              eval("req.body.nD2_D02rezultatai" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_D02.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D02studKrypt" + i),
                veikla: eval("req.body.nD2_D02veikla" + i),
                rezultatai: eval("req.body.nD2_D02rezultatai" + i)
              })
            }
          } // 7 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
            if (eval("req.body.nD2_D03studProgr" + i) != "" || eval("req.body.nD2_D03veikla" + i) != "" ||
              eval("req.body.nD2_D03rezultatai" + i) != "" || eval("req.body.nD2_D03studKryptis" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_D03.push({
                nr: i,
                studKryptis: eval("req.body.nD2_D03studKryptis" + i),
                studProgr: eval("req.body.nD2_D03studProgr" + i),
                veikla: eval("req.body.nD2_D03veikla" + i),
                rezultatai: eval("req.body.nD2_D03rezultatai" + i)
              })
            }
          } // 8 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
            if (eval("req.body.nD2_M03studProgr" + i) != "" || eval("req.body.nD2_M03dalykPavad" + i) != "" ||
              eval("req.body.nD2_M03apimtisKredit" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_M03.push({
                nr: i,
                studProgr: eval("req.body.nD2_M03studProgr" + i),
                dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
                apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
              })
            }
          } // 9 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
            if (eval("req.body.nD2_S01veikla" + i) != "" || eval("req.body.nD2_S01dataVieta" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_S01.push({
                nr: i,
                veikla: eval("req.body.nD2_S01veikla" + i),
                dataVieta: eval("req.body.nD2_S01dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
            if (eval("req.body.nD2_Sstiprybes" + i) != "" || eval("req.body.nD2_Stobulintina" + i) != "") {
              foundUser.mm2025_2026.destytojas.nD2_S.push({
                nr: i,
                stiprybes: eval("req.body.nD2_Sstiprybes" + i),
                tobulintina: eval("req.body.nD2_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
            foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
            foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys

          // 10 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
            if (eval("req.body.tyrTemat" + i) != "" || eval("req.body.tyrGrup" + i) != "" ||
              eval("req.body.tMTEP3_T01mokslSrit" + i) != "" || eval("req.body.tMTEP3_T01mokslKrypt" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
                nr: i,
                tyrTemat: eval("req.body.tyrTemat" + i),
                tyrGrup: eval("req.body.tyrGrup" + i),
                mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
              })
            }
          } // 11 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
            if (eval("req.body.tMTEP3_T02bibliografApr" + i) != "" || eval("req.body.tMTEP3_T02tipas" + i) != "" ||
              eval("req.body.tMTEP3_T02mokslSrit" + i) != "" || eval("req.body.tMTEP3_T02mokslKrypt" + i) != "" ||
              eval("req.body.tMTEP3_T02duomBaze" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
                nr: i,
                bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
                tipas: eval("req.body.tMTEP3_T02tipas" + i),
                mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
                mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
                duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
              })
            }
          } // 12 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
            if (eval("req.body.tMTEP3_T03pilnasBiblApr" + i) != "" || eval("req.body.tMTEP3_T03rengTipas" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
                nr: i,
                pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
                rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
              })
            }
          } // 13 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
            if (eval("req.body.tMTEP3_T04uzsakovas" + i) != "" || eval("req.body.tMTEP3_T04tema" + i) != "" ||
              eval("req.body.tMTEP3_T04data" + i) != "" || eval("req.body.tMTEP3_T04atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
                nr: i,
                uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
                tema: eval("req.body.tMTEP3_T04tema" + i),
                data: eval("req.body.tMTEP3_T04data" + i),
                atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
              })
            }
          } // 14.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
            if (eval("req.body.tMTEP3_T05veiklPavad" + i) != "" || eval("req.body.tMTEP3_T05veiklRezult" + i) != "" ||
              eval("req.body.tMTEP3_T05atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
                nr: i,
                veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
                veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
                atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
              })
            }
          } // 14.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
            if (eval("req.body.tMTEP3_142pavadinimas" + i) != "" || eval("req.body.tMTEP3_142pastabos" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
                pastabos: eval("req.body.tMTEP3_142pastabos" + i)
              })
            }
          } // 14.3 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
            if (eval("req.body.tMTEP3_143pavadinimas" + i) != "" || eval("req.body.tMTEP3_143uzsakovas" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
                nr: i,
                pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
                uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
              })
            }
          } // 15 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
            if (eval("req.body.tMTEP3_T06autorius" + i) != "" || eval("req.body.tMTEP3_T06menoSrit" + i) != "" ||
              eval("req.body.tMTEP3_T06pobudis" + i) != "" || eval("req.body.tMTEP3_T06realizVieta" + i) != "" ||
              eval("req.body.tMTEP3_T06data" + i) != "" || eval("req.body.tMTEP3_T06atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
                nr: i,
                autorius: eval("req.body.tMTEP3_T06autorius" + i),
                menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
                pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
                realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
                data: eval("req.body.tMTEP3_T06data" + i),
                atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
              })
            }
          } // 16 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
            if (eval("req.body.tMTEP3_T07menoSrit" + i) != "" || eval("req.body.tMTEP3_T07pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T07atlikVieta" + i) != "" || eval("req.body.tMTEP3_T07data" + i) != "" ||
              eval("req.body.tMTEP3_T07atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
                data: eval("req.body.tMTEP3_T07data" + i),
                atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
              })
            }
          } // 17 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
            if (eval("req.body.tMTEP3_T08menoSrit" + i) != "" || eval("req.body.tMTEP3_T08pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T08atlikVieta" + i) != "" || eval("req.body.tMTEP3_T08data" + i) != "" ||
              eval("req.body.tMTEP3_T08atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
                data: eval("req.body.tMTEP3_T08data" + i),
                atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
              })
            }
          } // 18 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
            if (eval("req.body.tMTEP3_T09menoSrit" + i) != "" || eval("req.body.tMTEP3_T09pavadinimas" + i) != "" ||
              eval("req.body.tMTEP3_T09atlikVieta" + i) != "" || eval("req.body.tMTEP3_T09data" + i) != "" ||
              eval("req.body.tMTEP3_T09atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
                nr: i,
                menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
                pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
                atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
                data: eval("req.body.tMTEP3_T09data" + i),
                atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
              })
            }
          } // 19 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
            if (eval("req.body.tMTEP3_T10veiklPobud" + i) != "" || eval("req.body.tMTEP3_T10veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T10dataVieta" + i) != "" || eval("req.body.tMTEP3_T10dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T10ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T10atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
              })
            }
          } // 20 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
            if (eval("req.body.tMTEP3_T11veiklPobud" + i) != "" || eval("req.body.tMTEP3_T11veiklTiksl" + i) != "" ||
              eval("req.body.tMTEP3_T11dataVieta" + i) != "" || eval("req.body.tMTEP3_T11dalyvSk" + i) != "" ||
              eval("req.body.tMTEP3_T11ktKomentarai" + i) != "" || eval("req.body.tMTEP3_T11atlygArNe" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
                veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
                dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
                dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
                ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
                atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
              })
            }
          } // 21 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
            if (eval("req.body.tMTEP3_T12veiklPobud" + i) != "" || eval("req.body.tMTEP3_T12dataVieta" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
                nr: i,
                veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
              })
            }
          } // 22 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
            if (eval("req.body.tMTEP3_T13studDuom" + i) != "" || eval("req.body.tMTEP3_T13renginioPavad" + i) != "" ||
              eval("req.body.tMTEP3_T13rezultatas" + i) != "" || eval("req.body.tMTEP3_T13data" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
                nr: i,
                studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
                renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
                rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
                data: eval("req.body.tMTEP3_T13data" + i)
              })
            }
          } // 23 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
            if (eval("req.body.tMTEP3_T14renginys" + i) != "" || eval("req.body.tMTEP3_T14veiklPobud" + i) != "" ||
              eval("req.body.tMTEP3_T14dataVieta" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
                nr: i,
                renginys: eval("req.body.tMTEP3_T14renginys" + i),
                veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
                dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
              })
            }
          } // savianalize submit
          for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
            if (eval("req.body.tMTEP3_Sstiprybes" + i) != "" || eval("req.body.tMTEP3_Stobulintina" + i) != "") {
              foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
                nr: i,
                stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
                tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
              })
            }
          }
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
            foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
            foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
            foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys

          // 24 lentelė submit
          //mokymosi
          for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
            if (eval("req.body.kTOV4_mokymopavad" + i) != "" || eval("req.body.kTOV4_mokymopazymNr" + i) != "" ||
              eval("req.body.kTOV4_mokymotrukmeValLT" + i) != "" || eval("req.body.kTOV4_mokymotrukmeValNeLT" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
                pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
                pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
              })
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
            }
          } // tyrimu
          for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
            if (eval("req.body.kTOV4_tyrimupavad" + i) != "" || eval("req.body.kTOV4_tyrimupazymNr" + i) != "" ||
              eval("req.body.kTOV4_tyrimutrukmeValLT" + i) != "" || eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
                pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
                pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
              })
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
            }
          } //bendrosios
          for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
            if (eval("req.body.kTOV4_bendrosiospavad" + i) != "" || eval("req.body.kTOV4_bendrosiospazymNr" + i) != "" ||
              eval("req.body.kTOV4_bendrosiostrukmeValLT" + i) != "" || eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
                pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
                pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
              })
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
            }
          } //dalykines
          for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
            if (eval("req.body.kTOV4_dalykpavad" + i) != "" || eval("req.body.kTOV4_dalykpazymNr" + i) != "" ||
              eval("req.body.kTOV4_dalyktrukmeValLT" + i) != "" || eval("req.body.kTOV4_dalyktrukmeValNeLT" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
                pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
                pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
                trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
                trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
              })
              foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
            }
          }
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
            foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
          // 25 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
            if (eval("req.body.kTOV4_25renginysTema" + i) != "" || eval("req.body.kTOV4_25kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_25skirta" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_25.push({
                nr: i,
                renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
                kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
                skirta: eval("req.body.kTOV4_25skirta" + i)
              })
            }
          } // 26 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
            if (eval("req.body.kTOV4_26imonIstaig" + i) != "" || eval("req.body.kTOV4_26kompGrupe" + i) != "" ||
              eval("req.body.kTOV4_26trukmeVal" + i) != "" || eval("req.body.kTOV4_26data" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_26.push({
                nr: i,
                imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
                kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
                trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
                data: eval("req.body.kTOV4_26data" + i)
              })
            }
          } // 27 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
            if (eval("req.body.kTOV4_KV03studKryptis" + i) != "" || eval("req.body.kTOV4_KV03salis" + i) != "" ||
              eval("req.body.kTOV4_KV03institucija" + i) != "" || eval("req.body.kTOV4_KV03dalykas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
                nr: i,
                studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
                salis: eval("req.body.kTOV4_KV03salis" + i),
                institucija: eval("req.body.kTOV4_KV03institucija" + i),
                dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
              })
            }
          } // 28.1 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
            if (eval("req.body.kTOV4_O01_1veiklPobud" + i) != "" || eval("req.body.kTOV4_O01_1isakNrData" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
                nr: i,
                veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
                isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
              })
            }
          } // 28.2 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
            if (eval("req.body.kTOV4_O01_2destytojas" + i) != "" || eval("req.body.kTOV4_O01_2veiklPobud" + i) != "" ||
              eval("req.body.kTOV4_O01_2dataVieta" + i) != "" || eval("req.body.kTOV4_O01_2ktKomentarai" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
                nr: i,
                destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
                veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
                dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
                ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
              })
            }
          } // 29 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
            if (eval("req.body.kTOV4_29veikla" + i) != "" || eval("req.body.kTOV4_29socPartneris" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_29.push({
                nr: i,
                veikla: eval("req.body.kTOV4_29veikla" + i),
                socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
              })
            }
          } // savianalize lentelė submit
          for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
            if (eval("req.body.kTOV4_Sstiprybes" + i) != "" || eval("req.body.kTOV4_Stobulintina" + i) != "") {
              foundUser.mm2025_2026.destytojas.kTOV4_S.push({
                nr: i,
                stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
                tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
              })
            }
          } // 30 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
            if (eval("req.body.kV5_KT02studKryptis" + i) != "" || eval("req.body.kV5_KT02diplomantas" + i) != "" ||
              eval("req.body.kV5_KT02studProgr" + i) != "" || eval("req.body.kV5_KT02darboTema" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_KT02.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
                studProgr: eval("req.body.kV5_KT02studProgr" + i),
                darboTema: eval("req.body.kV5_KT02darboTema" + i)
              })
            }
          } // 31 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
            if (eval("req.body.kV5_KT01studKryptis" + i) != "" || eval("req.body.kV5_KT01diplomantas" + i) != "" ||
              eval("req.body.kV5_KT01studProgr" + i) != "" || eval("req.body.kV5_KT01darboTema" + i) != "" ||
              eval("req.body.kV5_KT01uzsakovas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_KT01.push({
                nr: i,
                studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
                diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
                studProgr: eval("req.body.kV5_KT01studProgr" + i),
                darboTema: eval("req.body.kV5_KT01darboTema" + i),
                uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
              })
            }
          }
          // 32 table submit
          for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
            if (eval("req.body.kV5_32socaprasymas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
                aprasymas: eval("req.body.kV5_32socaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
            if (eval("req.body.kV5_32aplinkaprasymas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
                aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
            if (eval("req.body.kV5_32valstybaprasymas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
                aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
            if (eval("req.body.kV5_32etnoaprasymas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
                aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
              })
            }
          }
          for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
            if (eval("req.body.kV5_32savaprasymas" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
                aprasymas: eval("req.body.kV5_32savaprasymas" + i)
              })
            }
          } // 33 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
            if (eval("req.body.kV5_33veikla" + i) != "" || eval("req.body.kV5_33veiklPartner" + i) != "" ||
              eval("req.body.kV5_33organizac" + i) != "" || eval("req.body.kV5_33veiklOrientavim" + i) != "" ||
              eval("req.body.kV5_33dalyviai" + i) != "" || eval("req.body.kV5_33laikas" + i) != "" ||
              eval("req.body.kV5_33vieta" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_33.push({
                nr: i,
                veikla: eval("req.body.kV5_33veikla" + i),
                veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
                organizac: eval("req.body.kV5_33organizac" + i),
                veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
                dalyviai: eval("req.body.kV5_33dalyviai" + i),
                laikas: eval("req.body.kV5_33laikas" + i),
                vieta: eval("req.body.kV5_33vieta" + i)
              })
            }
          } // 34 lentelė submit
          for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
            if (eval("req.body.kV5_34pavadinimas" + i) != "" || eval("req.body.kV5_34vykdytPartner" + i) != "" ||
              eval("req.body.kV5_34dalyviai" + i) != "" || eval("req.body.kV5_34finansavim" + i) != "" ||
              eval("req.body.kV5_34rezultatai" + i) != "" || eval("req.body.kV5_34salisData" + i) != "") {
              foundUser.mm2025_2026.destytojas.kV5_34.push({
                nr: i,
                pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
                vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
                dalyviai: eval("req.body.kV5_34dalyviai" + i),
                finansavim: eval("req.body.kV5_34finansavim" + i),
                rezultatai: eval("req.body.kV5_34rezultatai" + i),
                salisData: eval("req.body.kV5_34salisData" + i)
              })
            }
          }
          foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo,

            // vedėjas uzpildo update-report-lecturer-dep
            foundUser.mm2025_2026.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
            foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl,

            foundUser.mm2025_2026.destytojas.ataskaitosPateikimoDataVedejo = req.body.ataskaitosPateikimoDataVedejo,
            foundUser.mm2025_2026.destytojas.vedejoVardasPavarde = req.body.vedejoVardasPavarde,
            foundUser.busena25_26 = req.body.ataskaitos_busena,
            foundUser.mm2025_2026.destytojas.ivykiuDatos.pateikimas = dateTime.getFullDateTime();

        } //"užrakintaVedėjo"
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/department/2025-2026/lecturers-list");
          } else {
            console.log(err);
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});

//------------------ADMIN----------------------------------------
app.get("/admin/profile", function(req, res) {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          res.render("admin-window", {
            user: foundUser
          });
        } else {
          console.log("You dont have permission");
          res.redirect("/login");
        }
      }
      catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
// Administratorius atnaujina savo info
app.post("/update-profile-admin", function(req, res) {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser) {
          foundUser.vardas = req.body.vardas,
            foundUser.pavarde = req.body.pavarde
            foundUser.updated_for = req.user.username //username- savo username paimti
          foundUser.save(function(err) {
            if (err) throw err;
              console.log("User info succesfully updated");
              res.redirect("/admin/profile");
          });
        } else {
          console.log("User doesn't found");
        }
      }
      catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});

// main list with ALL DB USERS
app.get("/admin/users", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({})
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({}).exec((err, count) => {
                res.render("admin-users-list", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
      catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/users/:page", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({})
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {

              if (err) throw err;
              User.countDocuments({}).exec((err, count) => {
                res.render("admin-users-list", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
      catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/users/edit/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-user-edit", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
// Administratorius atnaujina naudotojo info
app.post("/update-user-info-admin", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.activeUser = req.body.isActive,
          foundUser.vardas = req.body.vardas,
          foundUser.pavarde = req.body.pavarde,
          foundUser.username = req.body.elpastas,
          foundUser.fakultetas = req.body.fakultetas,
          foundUser.katedra = req.body.katedra,

          foundUser.rolesKeitimas = req.body.rolesKeitimas,
          foundUser.role = req.body.role,

          foundUser.teachingYear22_23 = req.body.destymoMetai22_23,
          foundUser.teachingYear23_24 = req.body.destymoMetai23_24,
          foundUser.teachingYear24_25 = req.body.destymoMetai24_25,
          foundUser.teachingYear25_26 = req.body.destymoMetai25_26,
          foundUser.headOfTheDepartment22_23 = req.body.vedejoDarboMetai22_23,
          foundUser.headOfTheDepartment23_24 = req.body.vedejoDarboMetai23_24,
          foundUser.headOfTheDepartment24_25 = req.body.vedejoDarboMetai24_25,
          foundUser.headOfTheDepartment25_26 = req.body.vedejoDarboMetai25_26,
          foundUser.updated_for = req.user.username //username- prisijungusio userio id paimti iš DB reikia username
        foundUser.save(function(err) {
          if (!err) {
            res.redirect("/admin/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
// Administratorius ištrina naudotoją iš DB
app.post("/delete", function(req, res) {

  User.deleteOne({
      _id: req.body.deleteById
    },
    function(err) {
      if (!err) {
        res.redirect("/admin/users");
      } else {
        res.send(err);
      }
    }
  );
});

app.get("/admin/faculties", (req, res) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          Faculty.find({}, function(err, faculties) {
            if (err) {
              console.log(err);
            } else {
              res.render("admin-faculties-list", {
                faculties: faculties
              });
            }
          });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/faculties/create", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          res.render("admin-faculties-create");
        } else {
          console.log("User role unknown");
          res.redirect("/login");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/faculties/edit/:facultyId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.facultyId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            Faculty.findById((reqId), function(err, faculty) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-faculties-edit", {
                  faculty: faculty
                });
              }
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
// Administratorius sukuria fakultetą
app.post("/create-faculty", (req, res) => {
  const faculty = new Faculty({
    username: req.body.fakultetas,
    dekanas: req.body.dekanas,
    prodekanas: req.body.prodekanas
  });
  faculty.save(function(err) {
    if (!err) {
      console.log("Succesfully created");
      res.redirect("/admin/faculties");
    } else {
      console.log(err);
      //res.redirect("/admin/faculties");
      // CATCH padaryti
    }
  });
});
// Administratorius atnaujina fakultetą
app.post("/edit-faculty", (req, res) => {

  Faculty.findById(req.body.id, function(err, foundFaculty) {
    if (err) {
      console.log(err);
    } else {
      if (foundFaculty) {
        foundFaculty.username = req.body.fakultetas,
          foundFaculty.dekanas = req.body.dekanas,
          foundFaculty.prodekanas = req.body.prodekanas
        foundFaculty.save(function(err) {
          if (!err) {
            console.log("Succesfully updated");
            res.redirect("/admin/faculties");
          }
        });
      } else {
        console.log("Faculty does'f found");
      }
    }
  });
});
// Administratorius ištrina naudotoją iš DB
app.post("/delete-faculty", function(req, res) {

  Faculty.deleteOne({
      _id: req.body.deleteById
    },
    function(err) {
      if (!err) {
        res.redirect("/admin/faculties");
      } else {
        res.send(err);
      }
    }
  );
});
//end main list with ALL DB USERS

// USERS list by year
app.get("/admin/2022-2023/users", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({
              teachingYear22_23: true
            })
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear22_23: true
              }).exec((err, count) => {
                res.render("admin-users-list-2022-2023", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2022-2023/users/:page", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          let perPage = 5;
          let page = req.params.page || 1;
          console.log(page);
          User.find({
              teachingYear22_23: true
            }) // pagal metus perduoti
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear22_23: true
              }).exec((err, count) => {
                res.render("admin-users-list-2022-2023", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/users", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({
              teachingYear23_24: true
            })
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear23_24: true
              }).exec((err, count) => {
                res.render("admin-users-list-2023-2024", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/users/:page", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          let perPage = 5;
          let page = req.params.page || 1;
          User.find({
              teachingYear23_24: true
            }) // pagal metus perduoti
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear23_24: true
              }).exec((err, count) => {
                res.render("admin-users-list-2023-2024", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/users", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({
              teachingYear24_25: true
            })
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear24_25: true
              }).exec((err, count) => {
                res.render("admin-users-list-2024-2025", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/users/:page", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          let perPage = 5;
          let page = req.params.page || 1;
          console.log(page);
          User.find({
              teachingYear24_25: true
            }) // pagal metus perduoti
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear24_25: true
              }).exec((err, count) => {
                res.render("admin-users-list-2024-2025", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/users", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({
              teachingYear25_26: true
            })
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear25_26: true
              }).exec((err, count) => {
                res.render("admin-users-list-2025-2026", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
  console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/users/:page", (req, res, next) => {

  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          var perPage = 5;
          var page = req.params.page || 1;
          User.find({
              teachingYear25_26: true
            }) // pagal metus perduoti
            .skip((perPage * page) - perPage)
            .limit(perPage).exec(function(err, users) {
              if (err) throw err;
              User.countDocuments({
                teachingYear25_26: true
              }).exec((err, count) => {
                res.render("admin-users-list-2025-2026", {
                  users: users,
                  current: page,
                  pages: Math.ceil(count / perPage)
                });
              });
            });
        } else {
          console.log("You do not have permission");
          res.redirect("/login");
        }
      } catch (err) {
  console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
//edit user window
app.get("/admin/2022-2023/users/edit/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-user-edit-2022-2023", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/admin/2022-2023/users");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/users/edit/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-user-edit-2023-2024", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/admin/2023-2024/users");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/users/edit/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-user-edit-2024-2025", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/admin/2024-2025/users");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/users/edit/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) {
                console.log(err);
              } else {
                res.render("admin-user-edit-2025-2026", {
                  user: user
                });
              }
            });
          } else {
            res.redirect("/admin/2025-2026/users");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
// Administratorius atnaujina naudotojo info
app.post("/update-user-info-admin-2022-2023", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    try {
      if (foundUser) {
        foundUser.busena22_23 = req.body.busena,
          foundUser.busenaVedejo22_23 = req.body.busenaVedejo,
          //if (err) throw err;
          foundUser.updated_for = req.user.username //username- prisijungusio userio id paimti iš DB reikia username
        foundUser.save(function(err) {
          if (err) throw err;
          res.redirect("/admin/2022-2023/users");
        });
      } else {
        console.log("Does'f found");
      }
    } catch (err) {
      console.log(err);
    }
  });
});
app.post("/update-user-info-admin-2023-2024", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    y = 5;
    try {
      if (foundUser) {
        foundUser.busena23_24 = req.body.busena,
          foundUser.busenaVedejo23_24 = req.body.busenaVedejo,
          foundUser.updated_for = req.user.username //username- prisijungusio userio id paimti iš DB reikia username
        foundUser.save(function(err) {
          res.redirect("/admin/2023-2024/users");
        });
      } else {
        console.log("Does'f found");
      }
    } catch (err) {
      console.log(err);
    }
  });
});
app.post("/update-user-info-admin-2024-2025", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    try {
      if (foundUser) {
        foundUser.busena24_25 = req.body.busena,
          foundUser.busenaVedejo24_25 = req.body.busenaVedejo,
          foundUser.updated_for = req.user.username //username- prisijungusio userio id paimti iš DB reikia username
        foundUser.save(function(err) {
          if (err) throw err;
          res.redirect("/admin/2024-2025/users");
        });
      } else {
        console.log("Does'f found");
      }
    } catch (err) {
      console.log(err);
    }
  });
});
app.post("/update-user-info-admin-2025-2026", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    try {
      if (foundUser) {
        foundUser.busena25_26 = req.body.busena,
          foundUser.busenaVedejo25_26 = req.body.busenaVedejo,
          foundUser.updated_for = req.user.username //username- prisijungusio userio id paimti iš DB reikia username
        foundUser.save(function(err) {
          if (err) throw err;
          res.redirect("/admin/2025-2026/users");
        });
      } else {
        console.log("Does'f found");
      }
    } catch (err) {
      console.log(err);
    }
  });
});
//END

app.get("/admin/2022-2023/user-reports/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-user-reports-all-2022-2023", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/user-reports/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-user-reports-all-2023-2024", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/user-reports/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-user-reports-all-2024-2025", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/user-reports/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-user-reports-all-2025-2026", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});

app.get("/admin/2022-2023/lecturers/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-lec-2022-2023", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/lecturers/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-lec-2023-2024", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/lecturers/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-lec-2024-2025", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/lecturers/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      try {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-lec-2025-2026", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      } catch (err) {
        console.log(err);
      }
    });
  } else {
    res.redirect("/login");
  }
});

// Administratorius atnaujina dėstytojo ataskaitą
app.post("/update-report-lec-admin-2022-2023", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_M04 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D02 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_D03 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S01 = new Array();
        foundUser.mm2022_2023.destytojas.nD2_S = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2022_2023.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2022_2023.destytojas.kTOV4_25 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_26 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_29 = new Array();
        foundUser.mm2022_2023.destytojas.kTOV4_S = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT01 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2022_2023.destytojas.kV5_33 = new Array();
        foundUser.mm2022_2023.destytojas.kV5_34 = new Array();

        // 1 lentelė  update-2022-2023
        foundUser.mm2022_2023.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2022_2023.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2022_2023.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2022_2023.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2022_2023.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2022_2023.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2022_2023.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2022_2023.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2022_2023.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2022_2023.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2022_2023.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2022_2023.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2022_2023.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2022_2023.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2022_2023.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2022_2023.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2022_2023.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2022_2023.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2022_2023.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2022_2023.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2022_2023.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė  update-2022-2023
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2022_2023.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2022_2023.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė  update-2022-2023
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2022_2023.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2022_2023.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
        // vedėjas uzpildo update-report-lecturer-dep
        foundUser.mm2022_2023.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
          foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
          foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
          foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
          foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
          foundUser.mm2022_2023.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl
        // foundUser.mm2022_2023.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

          foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully  updated");
            res.redirect("/admin/2022-2023/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lec-admin-2023-2024", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_M04 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D02 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_D03 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S01 = new Array();
        foundUser.mm2023_2024.destytojas.nD2_S = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2023_2024.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2023_2024.destytojas.kTOV4_25 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_26 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_29 = new Array();
        foundUser.mm2023_2024.destytojas.kTOV4_S = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT01 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2023_2024.destytojas.kV5_33 = new Array();
        foundUser.mm2023_2024.destytojas.kV5_34 = new Array();

        // 1 lentelė  update-2023-2024
        foundUser.mm2023_2024.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2023_2024.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2023_2024.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2023_2024.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2023_2024.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2023_2024.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2023_2024.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2023_2024.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2023_2024.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2023_2024.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2023_2024.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2023_2024.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2023_2024.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2023_2024.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2023_2024.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2023_2024.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2023_2024.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2023_2024.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2023_2024.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2023_2024.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2023_2024.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė  update-2023-2024
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2023_2024.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2023_2024.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė  update-2023-2024
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2023_2024.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2023_2024.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
        // vedėjas uzpildo update-report-lecturer-dep
        foundUser.mm2023_2024.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
          foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
          foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
          foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
          foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
          foundUser.mm2023_2024.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl
        // foundUser.mm2023_2024.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

          foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully  updated");
            res.redirect("/admin/2023-2024/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lec-admin-2024-2025", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_M04 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D02 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_D03 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S01 = new Array();
        foundUser.mm2024_2025.destytojas.nD2_S = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2024_2025.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2024_2025.destytojas.kTOV4_25 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_26 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_29 = new Array();
        foundUser.mm2024_2025.destytojas.kTOV4_S = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT01 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2024_2025.destytojas.kV5_33 = new Array();
        foundUser.mm2024_2025.destytojas.kV5_34 = new Array();

        // 1 lentelė  update-2024-2025
        foundUser.mm2024_2025.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2024_2025.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2024_2025.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2024_2025.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2024_2025.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2024_2025.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2024_2025.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2024_2025.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2024_2025.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2024_2025.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2024_2025.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2024_2025.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2024_2025.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2024_2025.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2024_2025.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2024_2025.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2024_2025.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2024_2025.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2024_2025.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2024_2025.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2024_2025.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė  update-2024-2025
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2024_2025.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2024_2025.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė  update-2024-2025
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2024_2025.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2024_2025.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
        // vedėjas uzpildo update-report-lecturer-dep
        foundUser.mm2024_2025.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
          foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
          foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
          foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
          foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
          foundUser.mm2024_2025.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl
        // foundUser.mm2024_2025.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

          foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully  updated");
            res.redirect("/admin/2024-2025/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-lec-admin-2025-2026", (req, res) => {

  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        //masyvu isvalymas update
        foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_M04 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D02 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_D03 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S01 = new Array();
        foundUser.mm2025_2026.destytojas.nD2_S = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T01 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T02 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T03 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T04 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T05 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_142 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_143 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T06 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T07 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T08 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T09 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T10 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T11 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T12 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T13 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_T14 = new Array();
        foundUser.mm2025_2026.destytojas.tMTEP3_S = new Array();
        //24 lentelė
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines = new Array();
        // UPDATE post. Skaiciui "dalyvavusiu" nustatyti Vedejo ataskaitoje
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = false;
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = false;

        foundUser.mm2025_2026.destytojas.kTOV4_25 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_26 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_KV03 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_29 = new Array();
        foundUser.mm2025_2026.destytojas.kTOV4_S = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT01 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_KT02 = new Array();
        //32 lentelė
        foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos = new Array();
        foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv = new Array();

        foundUser.mm2025_2026.destytojas.kV5_33 = new Array();
        foundUser.mm2025_2026.destytojas.kV5_34 = new Array();

        // 1 lentelė  update-2025-2026
        foundUser.mm2025_2026.destytojas.darbovietesTipas = req.body.darbovTipas,
          foundUser.mm2025_2026.destytojas.pareigos = req.body.pareigos,
          foundUser.mm2025_2026.destytojas.pedagogStazas = req.body.pedagogStazas,
          foundUser.mm2025_2026.destytojas.praktVeiklStazas = req.body.praktinStazas
        // 2 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2025_2026.destytojas.kD1_K01.kD1_K01_array.push({
            nr: i,
            dalykas: eval("req.body.dalykas" + i),
            grupe: eval("req.body.grupe" + i),
            semestras: eval("req.body.semestras" + i),
            planuotosVal: eval("req.body.planuotosVal" + i),
            atliktosVal: eval("req.body.atliktosVal" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValPlan = req.body.kD1_K01isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isVisoValAtl = req.body.kD1_K01isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValPlan = req.body.isJuSrautaisValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuSrautaisValAtl = req.body.isJuSrautaisValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValPlan = req.body.isJuUzsienioValPlan,
          foundUser.mm2025_2026.destytojas.kD1_K01.isJuUzsienioValAtl = req.body.isJuUzsienioValAtl,
          foundUser.mm2025_2026.destytojas.kD1_K01.priezastys = req.body.kD1_K01priezastys,

          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_planVal = req.body.nekSuStud_planVal,
          foundUser.mm2025_2026.destytojas.nD2.nekSuStud_atlVal = req.body.nekSuStud_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_planVal = req.body.pasirengDest_planVal,
          foundUser.mm2025_2026.destytojas.nD2.pasirengDest_atlVal = req.body.pasirengDest_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_planVal = req.body.metod_planVal,
          foundUser.mm2025_2026.destytojas.nD2.metod_atlVal = req.body.metod_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_planVal = req.body.dalyvSPKUV_planVal,
          foundUser.mm2025_2026.destytojas.nD2.dalyvSPKUV_atlVal = req.body.dalyvSPKUV_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_planVal = req.body.studPop_planVal,
          foundUser.mm2025_2026.destytojas.nD2.studPop_atlVal = req.body.studPop_atlVal,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValPlan = req.body.nD2isVisoValPlan,
          foundUser.mm2025_2026.destytojas.nD2.isVisoValAtl = req.body.nD2isVisoValAtl,
          foundUser.mm2025_2026.destytojas.nD2.priezastys = req.body.nD2priezastys
        // 3 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.bibliografApr" + i),
            tipas: eval("req.body.tipas" + i),
            mokslSrit: eval("req.body.mokslSrit" + i),
            mokslKrypt: eval("req.body.mokslKrypt" + i)
          })
        }
        // 4 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M04.push({
            nr: i,
            studProgr: eval("req.body.nD2_M04studProgr" + i),
            dalykPavad: eval("req.body.nD2_M04dalykPavad" + i),
            busena: eval("req.body.nD2_M04busena" + i),
            apimtisKredit: eval("req.body.nD2_M04apimtisKredit" + i)
          })
        } // 5 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D01.push({
            nr: i,
            komitetas: eval("req.body.nD2_D01komitetas" + i),
            veikla: eval("req.body.nD2_D01veikla" + i),
            rezultatai: eval("req.body.nD2_D01rezultatai" + i)
          })
        } // 6 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D02.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D02studKrypt" + i),
            veikla: eval("req.body.nD2_D02veikla" + i),
            rezultatai: eval("req.body.nD2_D02rezultatai" + i)
          })
        } // 7 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_D03.push({
            nr: i,
            studKryptis: eval("req.body.nD2_D03studKryptis" + i),
            studProgr: eval("req.body.nD2_D03studProgr" + i),
            veikla: eval("req.body.nD2_D03veikla" + i),
            rezultatai: eval("req.body.nD2_D03rezultatai" + i)
          })
        } // 8 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_M03.push({
            nr: i,
            studProgr: eval("req.body.nD2_M03studProgr" + i),
            dalykPavad: eval("req.body.nD2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.nD2_M03apimtisKredit" + i)
          })
        } // 9 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_S01.push({
            nr: i,
            veikla: eval("req.body.nD2_S01veikla" + i),
            dataVieta: eval("req.body.nD2_S01dataVieta" + i)
          })
        } // savianalize  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.tablenD2_S_name); i++) {
          foundUser.mm2025_2026.destytojas.nD2_S.push({
            nr: i,
            stiprybes: eval("req.body.nD2_Sstiprybes" + i),
            tobulintina: eval("req.body.nD2_Stobulintina" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_planVal = req.body.tMTEPveiklRez_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPveiklRez_atlVal = req.body.tMTEPveiklRez_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_planVal = req.body.menoVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.menoVeikl_atlVal = req.body.menoVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_planVal = req.body.tMTEPmenoVeiklPop_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.tMTEPmenoVeiklPop_atlVal = req.body.tMTEPmenoVeiklPop_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_planVal = req.body.studReng_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.studReng_atlVal = req.body.studReng_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_planVal = req.body.kitaVeikl_planVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.kitaVeikl_atlVal = req.body.kitaVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValPlan = req.body.tMTEP3isVisoValPlan,
          foundUser.mm2025_2026.destytojas.tMTEP3.isVisoValAtl = req.body.tMTEP3isVisoValAtl,
          foundUser.mm2025_2026.destytojas.tMTEP3.priezastys = req.body.tMTEP3priezastys
        // 10 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tyrTemat" + i),
            tyrGrup: eval("req.body.tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 11 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 12 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 13 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T04.push({
            nr: i,
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 14.1 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table141_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T05.push({
            nr: i,
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 14.2 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table142_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_142.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_142pavadinimas" + i),
            pastabos: eval("req.body.tMTEP3_142pastabos" + i)
          })
        } // 14.3 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table143_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_143.push({
            nr: i,
            pavadinimas: eval("req.body.tMTEP3_143pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_143uzsakovas" + i)
          })
        } // 15 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 16 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table16_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T07.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 17 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T08.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 18 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T09.push({
            nr: i,
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 19 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T10.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 20 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T11.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 21 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T12.push({
            nr: i,
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 22 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T13.push({
            nr: i,
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        } // 23 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_T14.push({
            nr: i,
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tableTMTEP3_S_name); i++) {
          foundUser.mm2025_2026.destytojas.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_planVal = req.body.kTOV4kompTobulinimas_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.kompTobulinimas_atlVal = req.body.kTOV4kompTobulinimas_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_planVal = req.body.kTOV4organizacVeikl_planVal,
          foundUser.mm2025_2026.destytojas.kTOV4.organizacVeikl_atlVal = req.body.kTOV4organizacVeikl_atlVal,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValPlan = req.body.kTOV4isVisoValPlan,
          foundUser.mm2025_2026.destytojas.kTOV4.isVisoValAtl = req.body.kTOV4isVisoValAtl,
          foundUser.mm2025_2026.destytojas.kTOV4.priezastys = req.body.kTOV4priezastys
        // 24 lentelė  update-2025-2026
        //mokymosi
        for (let i = 1; i <= parseInt(req.body.table241_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_mokymopavad" + i),
            pazymNr: eval("req.body.kTOV4_mokymopazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_mokymotrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_mokymotrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoMokymosiKomp = true
        } // tyrimu
        for (let i = 1; i <= parseInt(req.body.table242_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_tyrimupavad" + i),
            pazymNr: eval("req.body.kTOV4_tyrimupazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_tyrimutrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_tyrimutrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoTyrimuKomp = true
        } //bendrosios
        for (let i = 1; i <= parseInt(req.body.table243_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_bendrosiospavad" + i),
            pazymNr: eval("req.body.kTOV4_bendrosiospazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_bendrosiostrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_bendrosiostrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoBendrKomp = true
        } //dalykines
        for (let i = 1; i <= parseInt(req.body.table244_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_dalykpavad" + i),
            pazymNr: eval("req.body.kTOV4_dalykpazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_dalyktrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_dalyktrukmeValNeLT" + i)
          })
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.dalyvavoDalykKomp = true
        }
        foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLT,
          foundUser.mm2025_2026.destytojas.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLT
        // 25 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_25.push({
            nr: i,
            renginysTema: eval("req.body.kTOV4_25renginysTema" + i),
            kompGrupe: eval("req.body.kTOV4_25kompGrupe" + i),
            skirta: eval("req.body.kTOV4_25skirta" + i)
          })
        } // 26 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table26_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_26.push({
            nr: i,
            imonIstaig: eval("req.body.kTOV4_26imonIstaig" + i),
            kompGrupe: eval("req.body.kTOV4_26kompGrupe" + i),
            trukmeVal: eval("req.body.kTOV4_26trukmeVal" + i),
            data: eval("req.body.kTOV4_26data" + i)
          })
        } // 27 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_KV03.push({
            nr: i,
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 28.1 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table281_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 28.2 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table282_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        } // 29 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_29.push({
            nr: i,
            veikla: eval("req.body.kTOV4_29veikla" + i),
            socPartneris: eval("req.body.kTOV4_29socPartneris" + i)
          })
        } // savianalize
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2025_2026.destytojas.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 30 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 31 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table31_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        }
        // 32 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table321_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.socAtskMaz.push({
            aprasymas: eval("req.body.kV5_32socaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table322_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.aplinkosaugInic.push({
            aprasymas: eval("req.body.kV5_32aplinkaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table323_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.lietValstybPuosel.push({
            aprasymas: eval("req.body.kV5_32valstybaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table324_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.lietEtnokPuos.push({
            aprasymas: eval("req.body.kV5_32etnoaprasymas" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.table325_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_32.savanorystIniciatyv.push({
            aprasymas: eval("req.body.kV5_32savaprasymas" + i)
          })
        } // 33 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_33.push({
            nr: i,
            veikla: eval("req.body.kV5_33veikla" + i),
            veiklPartner: eval("req.body.kV5_33veiklPartner" + i),
            organizac: eval("req.body.kV5_33organizac" + i),
            veiklOrientavim: eval("req.body.kV5_33veiklOrientavim" + i),
            dalyviai: eval("req.body.kV5_33dalyviai" + i),
            laikas: eval("req.body.kV5_33laikas" + i),
            vieta: eval("req.body.kV5_33vieta" + i)
          })
        } // 34 lentelė  update-2025-2026
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2025_2026.destytojas.kV5_34.push({
            nr: i,
            pavadinimas: eval("req.body.kV5_34pavadinimas" + i),
            vykdytPartner: eval("req.body.kV5_34vykdytPartner" + i),
            dalyviai: eval("req.body.kV5_34dalyviai" + i),
            finansavim: eval("req.body.kV5_34finansavim" + i),
            rezultatai: eval("req.body.kV5_34rezultatai" + i),
            salisData: eval("req.body.kV5_34salisData" + i)
          })
        }
        foundUser.mm2025_2026.destytojas.kV5_kitaInfo = req.body.kV5_kitaInfo
        // vedėjas uzpildo update-report-lecturer-dep
        foundUser.mm2025_2026.destytojas.katedrosV_isvados = req.body.vedejo_katedrosV_isvados,
          foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kontaktD = req.body.vedejo_kontaktD,
          foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.neKontaktD = req.body.vedejo_neKontaktD,
          foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.tMTEP_vykdymas = req.body.vedejo_tMTEP_vykdymas,
          foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kompTobulinimas = req.body.vedejo_kompTobulinimas,
          foundUser.mm2025_2026.destytojas.katedrosV_rekomendacijos.kitosVeikl = req.body.vedejo_kitosVeikl
        // foundUser.mm2025_2026.destytojas.ivykiuDatos.atnaujinimas = dateTime.getFullDateTime();

          foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
            console.log("Succesfully  updated");
            res.redirect("/admin/2025-2026/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});

app.get("/admin/2022-2023/departments/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-dep-2022-2023", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2023-2024/departments/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-dep-2023-2024", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2024-2025/departments/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-dep-2024-2025", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});
app.get("/admin/2025-2026/departments/edit-report/:userId", (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          const reqId = req.params.userId;
          if (reqId.match(/^[0-9a-fA-F]{24}$/)) {
            User.findById((reqId), function(err, user) {
              if (err) throw err;
              res.render("admin-edit-report-dep-2025-2026", {
                user: user
              });
            });
          } else {
            res.redirect("/admin/profile");
          }
        } else {
          res.redirect("/home");
        }
      }
    });
  } else {
    res.redirect("/login");
  }
});

// Administratorius atnaujina katedros vedėjo ataskaitą
app.post("/update-report-dep-admin-2022-2023", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2022_2023.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2022_2023.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2022_2023.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
           console.log("Succesfully  updated");
            res.redirect("admin/2022-2023/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-dep-admin-2023-2024", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2023_2024.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2023_2024.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2023_2024.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
           console.log("Succesfully  updated");
            res.redirect("admin/2023-2024/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-dep-admin-2024-2025", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2024_2025.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2024_2025.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2024_2025.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
           console.log("Succesfully  updated");
            res.redirect("admin/2024-2025/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});
app.post("/update-report-dep-admin-2025-2026", (req, res) => {
  User.findById(req.body.id, function(err, foundUser) {
    if (err) {
      console.log(err);
    } else {
      if (foundUser) {
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_1 = new Array(); // 1
        foundUser.mm2025_2026.katedrosVedejas.kDS1 = new Array(); // 2
        foundUser.mm2025_2026.katedrosVedejas.kKPP1_3 = new Array(); // 3
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02 = new Array(); // 4
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04 = new Array(); // 5
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06 = new Array(); // 6
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01 = new Array(); // 7
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02 = new Array(); // 8
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03 = new Array(); // 9
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03 = new Array(); // 10
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01 = new Array(); // 11
        foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01 = new Array(); // 12
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02 = new Array(); // 13
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03 = new Array(); // 14
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04 = new Array(); // 15
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05 = new Array(); // 16.1
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162 = new Array(); // 16.2
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16 = new Array(); // 16.3
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06 = new Array(); // 17
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07 = new Array(); // 18
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08 = new Array(); // 19
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09 = new Array(); // 20
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10 = new Array(); // 21
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11 = new Array(); // 22
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12 = new Array(); // 23
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14 = new Array(); // 24
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13 = new Array(); // 25
        foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S = new Array(); // Savianalizė

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios = new Array();
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines = new Array();

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27 = new Array(); // 27
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28 = new Array(); // 28
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03 = new Array(); // 29
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30 = new Array(); // 30
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1 = new Array(); // 31.1
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2 = new Array(); // 31.2
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S = new Array(); // Savianalizė
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32 = new Array(); // 32
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33 = new Array(); // 33
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34 = new Array(); // 34
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35 = new Array(); // 35
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02 = new Array(); // 36
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01 = new Array(); // 37
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38 = new Array(); // 38
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39 = new Array(); // 39
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz = new Array(); // 40.1
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic = new Array(); // 40.2
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel = new Array(); // 40.3
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos = new Array(); // 40.4
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv = new Array(); // 40.5
        foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41 = new Array(); // 41
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array = new Array(); // Savianalizė

        // 1 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table1_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_1.push({
            nr: i,
            studKryptis: eval("req.body.mV2_D04studKryptis" + i),
            studProgr: eval("req.body.mV2_D04studProgr" + i),
            progrKodas: eval("req.body.mV2_D04progrKodas" + i),
            isakNrData: eval("req.body.mV2_D04isakNrData" + i),
            studKryptAkredit: eval("req.body.mV2_D04studKryptAkredit" + i),
            akreditLaikot: eval("req.body.mV2_D04akreditLaikot" + i),
            eCTS: eval("req.body.mV2_D04eCTS" + i)
          })
        } // 2 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table2_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kDS1.push({
            nr: i,
            vardPavard: eval("req.body.lent2_pavVard" + i),
            pareigos: eval("req.body.lent2_pareigos" + i),
            darbovTipas: eval("req.body.lent2_darbovTipas" + i),
            pedagogStazas: eval("req.body.lent2_pedagogStazas" + i),
            praktinStazas: eval("req.body.lent2_praktinStazas" + i)
          })
        } // 3 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table3_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kKPP1_3.push({
            nr: i,
            studKryptis: eval("req.body.lent3_studKryptis" + i),
            studProgr: eval("req.body.lent3_studProgr" + i),
            destytojas: eval("req.body.lent3_destytojas" + i),
            imonIstaig: eval("req.body.lent3_imonIstaig" + i)
          })
        } // 4 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table4_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M02.push({
            nr: i,
            bibliografApr: eval("req.body.lent4_bibliografApr" + i),
            tipas: eval("req.body.lent4_tipas" + i),
            mokslSrit: eval("req.body.lent4_mokslSrit" + i),
            mokslKrypt: eval("req.body.lent4_mokslKrypt" + i)
          })
        } // 5 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table5_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M04.push({
            nr: i,
            destytojas: eval("req.body.mV2_M04destytojas" + i),
            studProgr: eval("req.body.mV2_M04studProgr" + i),
            dalykPavad: eval("req.body.mV2_M04dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M04apimtisKredit" + i),
            busena: eval("req.body.mV2_M04busena" + i)
          })
        } // 6 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table6_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D06.push({
            nr: i,
            studProgr: eval("req.body.mV2_D06studProgr" + i),
            progrKodas: eval("req.body.mV2_D06progrKodas" + i),
            atlPatobulin: eval("req.body.mV2_D06atlPatobulin" + i),
            tobulinPriezast: eval("req.body.mV2_D06tobulinPriezast" + i),
            tobulinIrod: eval("req.body.mV2_D06tobulinIrod" + i)
          })
        } // 7 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table7_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D01.push({
            nr: i,
            destytojas: eval("req.body.mV2_D01destytojas" + i),
            komitetas: eval("req.body.mV2_D01komitetas" + i),
            veikla: eval("req.body.mV2_D01veikla" + i),
            rezultatai: eval("req.body.mV2_D01rezultatai" + i)
          })
        } // 8 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table8_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D02.push({
            nr: i,
            destytojas: eval("req.body.mV2_D02destytojas" + i),
            studKryptis: eval("req.body.mV2_D02studKrypt" + i),
            veikla: eval("req.body.mV2_D02veikla" + i),
            rezultatai: eval("req.body.mV2_D02rezultatai" + i)
          })
        } // 9 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table9_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_D03.push({
            nr: i,
            destytojas: eval("req.body.mV2_D03destytojas" + i),
            studKryptis: eval("req.body.mV2_D03studKryptis" + i),
            studProgr: eval("req.body.mV2_D03studProgr" + i),
            veikla: eval("req.body.mV2_D03veikla" + i),
            rezultatai: eval("req.body.mV2_D03rezultatai" + i)
          })
        } // 10 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table10_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_M03.push({
            nr: i,
            destytojas: eval("req.body.mV2_M03destytojas" + i),
            studProgr: eval("req.body.mV2_M03studProgr" + i),
            dalykPavad: eval("req.body.mV2_M03dalykPavad" + i),
            apimtisKredit: eval("req.body.mV2_M03apimtisKredit" + i)

          })
        } // 11 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table11_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S01.push({
            nr: i,
            destytojas: eval("req.body.mV2_S01destytojas" + i),
            veikla: eval("req.body.mV2_S01veikla" + i),
            dataVieta: eval("req.body.mV2_S01dataVieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablemV2_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.mV2.mV2_S.push({
            nr: i,
            stiprybes: eval("req.body.mV2_Sstiprybes" + i),
            tobulintina: eval("req.body.mV2_Stobulintina" + i)
          })
        } // 12 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table12_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T01.push({
            nr: i,
            tyrTemat: eval("req.body.tMTEP3_T01tyrTemat" + i),
            destytojas: eval("req.body.tMTEP3_T01destytojas" + i),
            tyrGrup: eval("req.body.tMTEP3_T01tyrGrup" + i),
            mokslSrit: eval("req.body.tMTEP3_T01mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T01mokslKrypt" + i)
          })
        } // 13 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table13_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T02.push({
            nr: i,
            bibliografApr: eval("req.body.tMTEP3_T02bibliografApr" + i),
            tipas: eval("req.body.tMTEP3_T02tipas" + i),
            mokslSrit: eval("req.body.tMTEP3_T02mokslSrit" + i),
            mokslKrypt: eval("req.body.tMTEP3_T02mokslKrypt" + i),
            duomBaze: eval("req.body.tMTEP3_T02duomBaze" + i)
          })
        } // 14 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table14_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T03.push({
            nr: i,
            pilnasBiblApr: eval("req.body.tMTEP3_T03pilnasBiblApr" + i),
            rengTipas: eval("req.body.tMTEP3_T03rengTipas" + i)
          })
        } // 15 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table15_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T04.push({
            nr: i,
            konsultantas: eval("req.body.tMTEP3_T04konsultantas" + i),
            uzsakovas: eval("req.body.tMTEP3_T04uzsakovas" + i),
            tema: eval("req.body.tMTEP3_T04tema" + i),
            data: eval("req.body.tMTEP3_T04data" + i),
            atlygArNe: eval("req.body.tMTEP3_T04atlygArNe" + i)
          })
        } // 16 lentelė 1 update-dep
        for (let i = 1; i <= parseInt(req.body.table161_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T05.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T05destytojas" + i),
            veiklPavad: eval("req.body.tMTEP3_T05veiklPavad" + i),
            veiklRezult: eval("req.body.tMTEP3_T05veiklRezult" + i),
            atlygArNe: eval("req.body.tMTEP3_T05atlygArNe" + i)
          })
        } // 16 lentelė 2 update-dep
        for (let i = 1; i <= parseInt(req.body.table162_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_162.push({
            nr: i,
            destytojas: eval("req.body.lent162_destytojas" + i),
            pavadinimas: eval("req.body.lent162_pavadinimas" + i),
            pastabos: eval("req.body.lent162_pastabos" + i)
          })
        } // 16 lentelė 3 update-dep
        for (let i = 1; i <= parseInt(req.body.table163_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T16.push({
            nr: i,
            rengejai: eval("req.body.tMTEP3_T16autorius" + i),
            pavadinimas: eval("req.body.tMTEP3_T16pavadinimas" + i),
            uzsakovas: eval("req.body.tMTEP3_T16uzsakovas" + i)
          })
        } // 17 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table17_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T06.push({
            nr: i,
            autorius: eval("req.body.tMTEP3_T06autorius" + i),
            menoSrit: eval("req.body.tMTEP3_T06menoSrit" + i),
            pobudis: eval("req.body.tMTEP3_T06pobudis" + i),
            realizVieta: eval("req.body.tMTEP3_T06realizVieta" + i),
            data: eval("req.body.tMTEP3_T06data" + i),
            atlygArNe: eval("req.body.tMTEP3_T06atlygArNe" + i)
          })
        } // 18 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table18_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T07.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T07atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T07menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T07pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T07atlikVieta" + i),
            data: eval("req.body.tMTEP3_T07data" + i),
            atlygArNe: eval("req.body.tMTEP3_T07atlygArNe" + i)
          })
        } // 19 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table19_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T08.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T08atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T08menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T08pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T08atlikVieta" + i),
            data: eval("req.body.tMTEP3_T08data" + i),
            atlygArNe: eval("req.body.tMTEP3_T08atlygArNe" + i)
          })
        } // 20 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table20_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T09.push({
            nr: i,
            atlikejas: eval("req.body.tMTEP3_T09atlikejas" + i),
            menoSrit: eval("req.body.tMTEP3_T09menoSrit" + i),
            pavadinimas: eval("req.body.tMTEP3_T09pavadinimas" + i),
            atlikVieta: eval("req.body.tMTEP3_T09atlikVieta" + i),
            data: eval("req.body.tMTEP3_T09data" + i),
            atlygArNe: eval("req.body.tMTEP3_T09atlygArNe" + i)
          })
        } // 21 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table21_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T10.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T10destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T10veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T10veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T10dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T10dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T10ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T10atlygArNe" + i)
          })
        } // 22 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table22_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T11.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T11destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T11veiklPobud" + i),
            veiklTiksl: eval("req.body.tMTEP3_T11veiklTiksl" + i),
            dataVieta: eval("req.body.tMTEP3_T11dataVieta" + i),
            dalyvSk: eval("req.body.tMTEP3_T11dalyvSk" + i),
            ktKomentarai: eval("req.body.tMTEP3_T11ktKomentarai" + i),
            atlygArNe: eval("req.body.tMTEP3_T11atlygArNe" + i)
          })
        } // 23 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table23_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T12.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T12destytojas" + i),
            veiklPobud: eval("req.body.tMTEP3_T12veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T12dataVieta" + i)
          })
        } // 24 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table24_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T14.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T14destytojas" + i),
            renginys: eval("req.body.tMTEP3_T14renginys" + i),
            veiklPobud: eval("req.body.tMTEP3_T14veiklPobud" + i),
            dataVieta: eval("req.body.tMTEP3_T14dataVieta" + i)
          })
        } // 25 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table25_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_T13.push({
            nr: i,
            destytojas: eval("req.body.tMTEP3_T13destytojas" + i),
            studDuom: eval("req.body.tMTEP3_T13studDuom" + i),
            renginioPavad: eval("req.body.tMTEP3_T13renginioPavad" + i),
            rezultatas: eval("req.body.tMTEP3_T13rezultatas" + i),
            data: eval("req.body.tMTEP3_T13data" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tMTEP3_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.tMTEP3.tMTEP3_S.push({
            nr: i,
            stiprybes: eval("req.body.tMTEP3_Sstiprybes" + i),
            tobulintina: eval("req.body.tMTEP3_Stobulintina" + i)
          })
        }
        // 26 lentelė update-dep priedas
        // mokymosi
        for (let i = 1; i <= parseInt(req.body.table261_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosi.push({
            pavadinimas: eval("req.body.kTOV4_KV01mokymosiKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01mokymosiKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01mokymosiKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01mokymosiKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValLT = req.body.kTOV4_trukmeMokymValLT1,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.mokymosiIsVisoValNeLT = req.body.kTOV4_trukmeMokymValNeLT1
        // tyrimu
        for (let i = 1; i <= parseInt(req.body.table262_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimu.push({
            pavadinimas: eval("req.body.kTOV4_KV01tyrimuKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01tyrimuKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01tyrimuKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01tyrimuKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValLT = req.body.kTOV4_trukmeTyrimValLT2,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.tyrimuIsVisoValNeLT = req.body.kTOV4_trukmeTyrimValNeLT2
        //bendrosios
        for (let i = 1; i <= parseInt(req.body.table263_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosios.push({
            pavadinimas: eval("req.body.kTOV4_KV01bendrKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01bendrKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01bendrKomptrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01bendrKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValLT = req.body.kTOV4_trukmeBendrValLT3,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.bendrosiosIsVisoValNeLT = req.body.kTOV4_trukmeBendrValNeLT3
        //dalykines
        for (let i = 1; i <= parseInt(req.body.table264_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykines.push({
            pavadinimas: eval("req.body.kTOV4_KV01dalykKomppavad" + i),
            pazymNr: eval("req.body.kTOV4_KV01dalykKomppazymNr" + i),
            trukmeValLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValLT" + i),
            trukmeValNeLT: eval("req.body.kTOV4_KV01dalykKompTrukmeValNeLT" + i),
            destytojas: eval("req.body.kTOV4_KV01dalykKompdalyvis" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValLT = req.body.kTOV4_trukmeDalykValLT4,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.dalykinesIsVisoValNeLT = req.body.kTOV4_trukmeDalykValNeLT4

        foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValLT = req.body.kTOV4_trukmeValLTbendr,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kompetencijos.isVisoValNeLT = req.body.kTOV4_trukmeValNeLTbendr,
          //26 lent
          //mokymosi
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.destytojuSk = req.body.mokymosiLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValLT = req.body.mokymosiLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.trukmeValNeLT = req.body.mokymosiNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.mokymosi.isVisoVal = req.body.mokymosiIsVisoVal,
          //tyrimu
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.destytojuSk = req.body.tyrimuLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValLT = req.body.tyrimuLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.trukmeValNeLT = req.body.tyrimuNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.tyrimu.isVisoVal = req.body.tyrimuIsVisoVal,
          //bendrosios
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.destytojuSk = req.body.bendrosiosLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValLT = req.body.bendrosiosLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.trukmeValNeLT = req.body.bendrosiosNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.bendrosios.isVisoVal = req.body.bendrosiosIsVisoVal,
          //dalykines
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.destytojuSk = req.body.dalykinesLTdestytojuSk,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValLT = req.body.dalykinesLTtrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.trukmeValNeLT = req.body.dalykinesNeLttrukmeVal,
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV01.kTOV4_26.dalykines.isVisoVal = req.body.dalykinesIsVisoVal
        // 27 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table27_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_27.push({
            nr: i,
            renginysTema: eval("req.body.lent27_renginysTema" + i),
            kompGrupe: eval("req.body.lent27_kompGrupe" + i),
            skirta: eval("req.body.lent27_skirta" + i),
            lektorius: eval("req.body.lent27_lektorius" + i),
            lektTipas: eval("req.body.lent27_lektTipas" + i)
          })
        } // 28 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table28_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_28.push({
            nr: i,
            destytojas: eval("req.body.lent28_destytojas" + i),
            imonIstaig: eval("req.body.lent28_imonIstaig" + i),
            kompGrupe: eval("req.body.lent28_kompGrupe" + i),
            trukmeVal: eval("req.body.lent28_trukmeVal" + i),
            data: eval("req.body.lent28_data" + i)
          })
        } // 29 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table29_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_KV03.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_KV03destytojas" + i),
            studKryptis: eval("req.body.kTOV4_KV03studKryptis" + i),
            salis: eval("req.body.kTOV4_KV03salis" + i),
            institucija: eval("req.body.kTOV4_KV03institucija" + i),
            dalykas: eval("req.body.kTOV4_KV03dalykas" + i)
          })
        } // 30 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table30_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_30.push({
            nr: i,
            destytojas: eval("req.body.lent30_destytojas" + i),
            studKryptis: eval("req.body.lent30_studKryptis" + i),
            salis: eval("req.body.lent30_salis" + i),
            institucija: eval("req.body.lent30_institucija" + i),
            dalykas: eval("req.body.lent30_dalykas" + i)
            //BAIGTA
          })
        } // 31 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table311_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_1.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_1destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_1veiklPobud" + i),
            isakNrData: eval("req.body.kTOV4_O01_1isakNrData" + i)
          })
        } // 31 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table312_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_O01.kTOV4_O01_2.push({
            nr: i,
            destytojas: eval("req.body.kTOV4_O01_2destytojas" + i),
            veiklPobud: eval("req.body.kTOV4_O01_2veiklPobud" + i),
            dataVieta: eval("req.body.kTOV4_O01_2dataVieta" + i),
            ktKomentarai: eval("req.body.kTOV4_O01_2ktKomentarai" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tablekTOV4_S_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kTOV4.kTOV4_S.push({
            nr: i,
            stiprybes: eval("req.body.kTOV4_Sstiprybes" + i),
            tobulintina: eval("req.body.kTOV4_Stobulintina" + i)
          })
        } // 32 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table32_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_32.push({
            nr: i,
            studKryptis: eval("req.body.lent32_studKryptis" + i),
            studProgr: eval("req.body.lent32_studProgr" + i),
            strategPartner: eval("req.body.lent32_strategPartner" + i)
          })
        } // 33 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table33_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_33.push({
            nr: i,
            veikla: eval("req.body.lent33_veikla" + i),
            socPartneris: eval("req.body.lent33_socPartneris" + i),
            destytojas: eval("req.body.lent33_destytojas" + i)
          })
        } // 34 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table34_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_34.push({
            nr: i,
            studKryptis: eval("req.body.lent34_studKryptis" + i),
            studProgr: eval("req.body.lent34_studProgr" + i),
            studentuSk1: eval("req.body.lent34_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent34_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent34_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent34_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent34_studentuSk5_" + i)
          })
        } // 35 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table35_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_35.push({
            nr: i,
            studKryptis: eval("req.body.lent35_studKryptis" + i),
            studProgr: eval("req.body.lent35_studProgr" + i),
            studentuSk1: eval("req.body.lent35_studentuSkBendr1_" + i),
            pasPartnerSk1: eval("req.body.lent35_studentuSk1_" + i),
            studentuSk2: eval("req.body.lent35_studentuSkBendr2_" + i),
            pasPartnerSk2: eval("req.body.lent35_studentuSk2_" + i),
            studentuSk3: eval("req.body.lent35_studentuSkBendr3_" + i),
            pasPartnerSk3: eval("req.body.lent35_studentuSk3_" + i),
            studentuSk4: eval("req.body.lent35_studentuSkBendr4_" + i),
            pasPartnerSk4: eval("req.body.lent35_studentuSk4_" + i),
            studentuSk5: eval("req.body.lent35_studentuSkBendr5_" + i),
            pasPartnerSk5: eval("req.body.lent35_studentuSk5_" + i)
          })
        } // 36 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table36_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT02.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT02studKryptis" + i),
            studProgr: eval("req.body.kV5_KT02studProgr" + i),
            diplomantas: eval("req.body.kV5_KT02diplomantas" + i),
            darboTema: eval("req.body.kV5_KT02darboTema" + i)
          })
        } // 37 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table37_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_KT01.push({
            nr: i,
            studKryptis: eval("req.body.kV5_KT01studKryptis" + i),
            studProgr: eval("req.body.kV5_KT01studProgr" + i),
            diplomantas: eval("req.body.kV5_KT01diplomantas" + i),
            darboTema: eval("req.body.kV5_KT01darboTema" + i),
            uzsakovas: eval("req.body.kV5_KT01uzsakovas" + i)
          })
        } // 38 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table38_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_38.push({
            nr: i,
            pavadinimas: eval("req.body.lent38_pavadinimas" + i),
            vykdytPartner: eval("req.body.lent38_vykdytPartner" + i),
            dalyviai: eval("req.body.lent38_dalyviai" + i),
            finansavim: eval("req.body.lent38_finansavim" + i),
            rezultatai: eval("req.body.lent38_rezultatai" + i),
            salisData: eval("req.body.lent38_salisData" + i)
          })
        } // 39 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table39_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_39.push({
            nr: i,
            kryptys: eval("req.body.lent39_kryptys" + i),
            aprasymas: eval("req.body.lent39_aprasymas" + i)
          })
        } // 40 lentelė update-dep 1
        for (let i = 1; i <= parseInt(req.body.table401_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.socAtskMaz.push({
            aprasymas: eval("req.body.lent40_socaprasymas" + i),
            destytojas: eval("req.body.lent40_socdestytojas" + i)
          })
        } // 40 lentelė update-dep 2
        for (let i = 1; i <= parseInt(req.body.table402_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.aplinkosaugInic.push({
            aprasymas: eval("req.body.lent40_aplinkaprasymas" + i),
            destytojas: eval("req.body.lent40_aplinkdestytojas" + i)
          })
        } // 40 lentelė update-dep 3
        for (let i = 1; i <= parseInt(req.body.table403_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietValstybPuosel.push({
            aprasymas: eval("req.body.lent40_valstybaprasymas" + i),
            destytojas: eval("req.body.lent40_valstybdestytojas" + i)
          })
        } // 40 lentelė update-dep 4
        for (let i = 1; i <= parseInt(req.body.table404_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.lietEtnokPuos.push({
            aprasymas: eval("req.body.lent40_etnoaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 40 lentelė update-dep 5
        for (let i = 1; i <= parseInt(req.body.table405_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_40.savanorystIniciatyv.push({
            aprasymas: eval("req.body.lent40_savaprasymas" + i),
            destytojas: eval("req.body.lent40_savdestytojas" + i)
          })
        } // 41 lentelė update-dep
        for (let i = 1; i <= parseInt(req.body.table41_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.kV5_41.push({
            nr: i,
            veikla: eval("req.body.lent41_veikla" + i),
            veiklPartner: eval("req.body.lent41_veiklPartner" + i),
            organizac: eval("req.body.lent41_organizac" + i),
            veiklOrientavim: eval("req.body.lent41_veiklOrientavim" + i),
            dalyviai: eval("req.body.lent41_dalyviai" + i),
            laikas: eval("req.body.lent41_laikas" + i),
            vieta: eval("req.body.lent41_vieta" + i)
          })
        }
        for (let i = 1; i <= parseInt(req.body.tableVeiklS_name); i++) {
          foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.veiklSavinalize_array.push({
            stiprybes: eval("req.body.veiklSavianalizStiprybes" + i),
            tobulintina: eval("req.body.veiklSavianalizTobulintina" + i)
          })
        }
        foundUser.mm2025_2026.katedrosVedejas.kV5.veiklSavinalize.isvadosApieVeikl = req.body.isvadosApieVeikl,
        foundUser.updated_for = req.user.username

        foundUser.save(function(err) {
          if (!err) {
           console.log("Succesfully  updated");
            res.redirect("admin/2025-2026/users");
          }
        });
      } else {
        console.log("Does'f found");
      }
    }
  });
});

app.use('/*/*/*', (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          res.render("404-admin");
        } else if (foundUser.role === "katedros vedėjas") {
          res.render("404-dep");
        } else if (foundUser.role === "dėstytojas") {
          res.render("404-lecturer");
        } else {
          console.log("User role unknown");
          res.redirect("/404");
        }
      }
    });
  } else {
    res.render("404");
  }
});
app.use('/*/*', (req, res) => {
  if (req.isAuthenticated()) {
    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          res.render("404-admin");
        } else if (foundUser.role === "katedros vedėjas") {
          res.render("404-dep");
        } else if (foundUser.role === "dėstytojas") {
          res.render("404-lecturer");
        } else {
          console.log("User role unknown");
          res.redirect("/404");
        }
      }
    });
  } else {
    res.render("404");
  }
});
app.use('*', (req, res) => {
  if (req.isAuthenticated()) {

    User.findById(req.user.id, function(err, foundUser) {
      if (err) {
        console.log(err);
      } else {
        if (foundUser.role === "administratorius") {
          res.render("404-admin");
        } else if (foundUser.role === "katedros vedėjas") {
          res.render("404-dep");
        } else if (foundUser.role === "dėstytojas") {
          res.render("404-lecturer");
        } else {
          console.log("User role unknown");
          res.redirect("/404");
        }
      }
    });
  } else {
    res.render("404");
  }
});

app.listen(3000, function() {
  console.log("ReportsApp has started successfully on port 3000");
});
