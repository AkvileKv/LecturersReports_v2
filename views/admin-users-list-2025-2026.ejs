<%- include('partials/headerAdmin2025_2026') %>

<div class="container">
  <div class="jumbotron ">

    <h1 class="text-center">Naudotojų sąrašas 2025 - 2026 m. m.</h1>
    <br>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Fakultetas</th>
          <th scope="col">Katedra</th>
          <th scope="col">Rolė</th>
          <th scope="col">Naudotojas</th>
          <th scope="col"></th>
        </tr>
      </thead>

      <%  users.forEach(function(user){ %>
      <div class="database-result-edit ">
        <tbody>
          <tr>
            <td><%=user.fakultetas%></td>
            <td><%=user.katedra%></td>
            <td>
              <%if (user.teachingYear25_26 === true && user.headOfTheDepartment25_26 === true){ %>
              katedros vedėjas / dėstytojas
              <%  } else if (user.teachingYear25_26 === true){ %>
              dėstytojas
              <%  } else if (user.headOfTheDepartment25_26 === true){ %>
                katedros vedėjas
                <%  }  %>
            </td>
            <td scope="row">
              <div class="edit-left">
                <span class="font-weight-bold"> <%=user.vardas + " " + user.pavarde%></span>
              </div>
            </td>
            <td>
              <div class="text-right">
                <div class="btn-group" role="group" aria-label="" id="group">
                  <a type="button" class="btn btn-primary" href="/admin/2025-2026/users/edit/<%= user._id %>"> Redaguoti</a>
                  <a type="button" class="btn btn-secondary" href="/admin/2025-2026/user-reports/<%= user._id %>"> Ataskaitos</a>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </div>
      <% }) %>

    </table>
<br>
    <% if (pages > 0) { %>
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <% if (current == 1) { %>
            <li class="page-item disabled"><a class="page-link">First</a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" href="/admin/2025-2026/users/1">First</a></li>
        <% } %>
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
            <li class="page-item disabled"><a class="page-link">...</a></li>
        <% } %>

        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
            <% if (i == current) { %>
                <li class="page-item active"><a class="page-link"><%= i %></a></li>
            <% } else { %>
                <li class="disabled"><a class="page-link" href="/admin/2025-2026/users/<%= i %>"><%= i %></a></li>
            <% } %>
            <% if (i == Number(current) + 4 && i < pages) { %>
                <li class="disabled"><a class="page-link">...</a></li>
            <% } %>
        <% } %>

        <% if (current == pages) { %>
            <li class="page-item disabled"><a class="page-link">Last</a></li>
        <% } else { %>
            <li class="disabled"><a class="page-link" href="/admin/2025-2026/users/<%= pages %>">Last</a></li>
        <% } %>
    </ul>
</nav>
<% } %>


  </div>
</div>



<%- include('partials/footer') %>
